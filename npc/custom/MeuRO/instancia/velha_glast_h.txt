glast_01,204,273,5	script	Hugin	4_M_SAGE_C,{

	if (BaseLevel < 120) {
		mes "[Hugin]";
		mes "Por que não volta quando ficar mais forte?";
		mes "Por exemplo: level 130.";
		close;
	}
	if (isbegin_quest(12316) == 0) {
		mes "[Hugin]";
		mes "Há muito tempo, este castelo não se parecia com este.";
		next;
		mes "[Hugin]";
		mes "Ah, desculpe. Estou murmurando na frente de um estranho.";
		next;
		mes "[Hugin]";
		mes "Meu nome é Hugin. Estou estudando a lacuna dimensional entre o tempo e o espaço.";
		next;
		select("Existe algo assim aqui?");
		mes "[Hugin]";
		mes "Você já se perguntou sobre a história de Glast Heim?";
		next;
		mes "[Hugin]";
		mes "Havia um rei chamado Shumiche que era conhecido como um tirano na história do Reino de Rune-Midgard.";
		next;
		mes "[Hugin]";
		mes "O tempo revelará as verdadeiras respostas se olharmos nos lugares certos.";
		next;
		if (select("Eu não me importo com a história","Isso é interessante. Você encontrou algo?") == 1) {
			mes "[Hugin]";
			mes "Mesmo? Hmm, volte mais tarde quando estiver interessado.";
			close;
		}
		mes "[Hugin]";
		mes "Na verdade, a viagem dimensional no tempo é possível, mas estou com muito medo de ir lá.";
		next;
		mes "[Hugin]";
		mes "Pode ser possível para você!";
		next;
		mes "[Hugin]";
		mes "Você quer viajar no tempo?";
		next;
		if (select("Não, obrigado.","Sim, claro que quero!") == 1) {
			mes "[Hugin]";
			mes "Mesmo? Mas esta é uma grande oportunidade.";
			close;
		}
		mes "[Hugin]";
		mes "Eu sabia que você entenderia o que eu disse. Bem, por favor me diga o que você quer fazer.";
		setquest 12316;// Meeting Hugin
		completequest 12316;
	}
	else {
		mes "[Hugin]";
		mes "Umm? Você me viu em outro lugar? Acho que não. E dessa vez?";
		if (isbegin_quest(12322) == 1)
			erasequest 12322;
	}
	next;
	mes "[Hugin]";
	mes "Qual modo você deseja entrar?";
	next;
	set .@diff,select("Modo Normal:Modo Hard");
	if(.@diff == 1) {
		switch( checkquest(12317,PLAYTIME) ) {
		case -1:
			.@party_id = getcharid(1);
			.@p_name$ = getpartyname(.@party_id);
			.@md_name$ = "Velha Glast Heim";

			if (!instance_check_party(.@party_id)) {
				mes "[Hugin]";
				mes "Por que você não faz um grupo com mais de 1 pessoa e fala comigo novamente?";
				close;
			}
			if (getcharid(0) == getpartyleader(.@party_id,2))
				.@menu$ = "Gerar intervalo de Tempo";
			else {
				mes "[Hugin]";
				mes "Já nos encontramos antes? Sem chance. É a primeira vez que vejo você. O que você quer?";
			}
			if (isbegin_quest(12318) == 0)
				setquest 12318;// Corrompido Soul Hunt
			switch( select( .@menu$, "Entrar em Old Glast Heim", "Cancelar" ) ) {
			case 1:
				switch( instance_create(.@md_name$) ) {
				case -3:
					dispbottom "Calabouço Memorial, 'Old Glast Heim' já está em andamento.",0xFFFFFF;
					close;
				case -4:
				case -2:
				case -1:
					mes "Party Name: " + getpartyname( getcharid(1) );
					mes "Party Leader: " + strcharinfo(0);
					mes "^0000ff" + .@md_name$ + "^000000 - a geração do intervalo de tempo falhou.";
					close;
				}
				mes "[Hugin]";
				mes "Após a abertura do intervalo de tempo, fale comigo novamente.";
				close;
			case 2:
				switch( instance_enter(.@md_name$) ) {
				case IE_OTHER:
					mes "[Hugin]";
					mes "Um erro desconhecido ocorreu.";
					close;
				case IE_NOINSTANCE:
					mes "[Hugin]";
					mes "O intervalo de tempo ainda não está aberto.";
					close;
				case IE_NOMEMBER:
					mes "[Hugin]";
					mes "Seu corpo não está apto para entrar no intervalo de tempo. Você não poderá entrar se não estiver em um Grupo.";
					close;
				case IE_OK:
					mapannounce "glast_01", "" + getpartyname( getcharid(1) ) + " membro do grupo " + strcharinfo(0) + " entrou em " + .@md_name$ + ".", bc_map,0x00FF99;
					set @OGH_Mode,1;
					setquest 12317;// Trace of Time Travel
					// warp "1@gl_k",150,20;
					end;
				}
			case 3:
				close;
			}
		case 0:
		case 1:
			mes "[Hugin]";
			mes "oh...";
			mes "Você ainda tem efeitos colaterais da viagem no tempo. Você não pode viajar novamente com esta condição.";
			next;
			mes "[Hugin]";
			mes "Manter-se saudável é importante, então faça uma pausa e volte mais tarde.";
			close;
		case 2:
			mes "^0000ffTodos os vestígios de acesso ao Old Glast Heim foram removidos. Agora você pode falar com Hugin novamente.^000000";
			if (isbegin_quest(12318) == 0)
				setquest 12318;// Corrompido Soul Hunt
			erasequest 12317;
			close;
		}
	} else if(.@diff == 2) { // Hard Mode
		if (BaseLevel < 130) {
		mes "[Hugin]";
		mes "Algoz mais aterrorizante está se criando por aqui, no momento certo você ouvirá o chamado dele.";
		mes "";
		mes "Nobre guerreiro, continue lutando e fique mais forte pois só você podera nos salvar do que vira pela frente.";
		close;
	}
		if(!OGH_Norm) {
			mes "[Hugin]";
			mes "Sinto muito, mas você não está pronto para este intervalo de tempo ainda.";
			mes "Tente o modo normal primeiro, antes de entrar no modo Hard.";
			close;
		}
		switch( checkquest(12334,PLAYTIME) ) {
		case -1:
			.@party_id = getcharid(1);
			.@p_name$ = getpartyname(.@party_id);
			.@md_name$ = "Old Glast Heim Hard";

			if (!instance_check_party(.@party_id)) {
				mes "[Hugin]";
				mes "Por que você não faz um Grupo com mais de 1 pessoa e fala comigo novamente?";
				close;
			}
			if (getcharid(0) == getpartyleader(.@party_id,2))
				.@menu$ = "Gerar intervalo de Tempo";
			else {
				mes "[Hugin]";
				mes "Já nos encontramos antes? Sem chance. É a primeira vez que vejo você. O que você quer?";
			}
			if (isbegin_quest(12336) == 0)
				setquest 12336;// Corrompido Soul Hunt
			switch( select( .@menu$, "Entrar em Old Glast Heim Hard", "Cancelar" ) ) {
			case 1:
				switch( instance_create(.@md_name$) ) {
				case -3:
					dispbottom "Calabouço Memorial, 'Old Glast Heim Hard' já está em andamento.",0xFFFFFF;
					close;
				case -4:
				case -2:
				case -1:
					mes "Nome do Grupo: " + getpartyname( getcharid(1) );
					mes "Lider: " + strcharinfo(0);
					mes "^0000ff" + .@md_name$ + "^000000 - a geração do intervalo de tempo falhou.";
					close;
				}
				mes "[Hugin]";
				mes "Após a abertura do intervalo de tempo, fale comigo novamente.";
				close;
			case 2:
				switch( instance_enter(.@md_name$) ) {
				case IE_OTHER:
					mes "[Hugin]";
					mes "Um erro desconhecido ocorreu.";
					close;
				case IE_NOINSTANCE:
					mes "[Hugin]";
					mes "O intervalo de tempo ainda não está aberto.";
					close;
				case IE_NOMEMBER:
					mes "[Hugin]";
					mes "Seu corpo não está apto para entrar no intervalo de tempo. Você não poderá entrar se não estiver em um grupo.";
					close;
				case IE_OK:
					mapannounce "glast_01", "" + getpartyname( getcharid(1) ) + " membro do grupo " + strcharinfo(0) + " entrou em " + .@md_name$ + ".", bc_map,0x00FF99;
					set @OGH_Mode,2;
					setquest 12334;// Trace of Time Travel
					// warp "1@gl_k",150,20;
					end;
				}
			case 3:
				close;
			}
		case 0:
		case 1:
			mes "[Hugin]";
			mes "Oh...";
			mes "Você ainda tem efeitos colaterais da viagem no tempo. Você não pode viajar novamente com esta condição.";
			next;
			mes "[Hugin]";
			mes "Manter-se saudável é importante, então faça uma pausa e volte mais tarde.";
			close;
		case 2:
			mes "^0000ffTodos os vestígios de acesso ao Old Glast Heim - Hard Mode foram removidos. Agora você pode falar com Hugin novamente.^000000";
			if (isbegin_quest(12336) == 0)
				setquest 12336;// Corrompido Soul Hunt
			erasequest 12334;
			close;
		}
	}
}

// Warps
1@gl_k,96,80,0	warp	#2Control	2,2,1@gl_k,80,80
1@gl_k,90,80,0	warp	#2Control2	2,2,1@gl_k,105,80
1@gl_k,202,79,0	warp	#3Control	2,2,1@gl_k,215,79
1@gl_k,206,79,0	warp	#3Control2	2,2,1@gl_k,195,79
1@gl_k,227,216,0	warp	#4Control	2,2,1@gl_k,215,216
1@gl_k,222,216,0	warp	#4Control2	2,2,1@gl_k,233,216
1@gl_k,150,284,0	warp	#2F Entrance	2,2,2@gl_k,150,46
2@gl_k,149,32,0	warp	#1 Control	2,2,1@gl_k,150,270
2@gl_k,145,123,0	warp	#22 Control	2,2,2@gl_k,126,123
2@gl_k,136,122,0	warp	#22 Control2	2,2,2@gl_k,150,116
2@gl_k,154,101,0	warp	#23 Control	2,2,2@gl_k,174,101
2@gl_k,165,101,0	warp	#23 Control2	2,2,2@gl_k,150,111
2@gl_k,150,163,0	warp	#24 Control	2,2,2@gl_k,150,179
2@gl_k,150,167,0	warp	#24 Control2	2,2,2@gl_k,150,149
1@gl_k,69,168,0	warp	#Secret Room Exit	2,2,1@gl_k,48,168

// Floor 1
//============================================================
1@gl_k,149,41,5	script	Varmundt#0	4_M_BARMUND,{
	if (getcharid(0) != getpartyleader(getcharid(1),2)) {
		mes "[Varmundt]";
		mes "Onde está seu líder? Eu preciso da ajuda dele.";
		cutin "gl_barmund2",2;
		close3;
	}
	.@account_id = getcharid(3);
	.@player_name$ = strcharinfo(0);
	set 'OGH_Mode,@OGH_Mode;
	mes "[Varmundt]";
	mes "Você é aquele que ^0000ffHerico^000000 enviou para me ajudar?";
	npctalk "Varmundt: Você é aquele que Herico enviou para me ajudar?";
	cutin "gl_barmund1",2;
	next;
	select("Oh. Bem eu ...");
	mes "[" + .@player_name$ + "]";
	mes "Sim, sou eu. Herico me disse para te encontrar.";
	unittalk .@account_id, .@player_name$ + " : Sim, sou eu. Herico me disse para te encontrar.";
	next;
	mes "[Varmundt]";
	mes "Não temos muito tempo. Devemos relatar a Sir Heinrich sobre a invasão de Himelmez.";
	npctalk "Varmundt: Não temos muito tempo. Devemos relatar a Sir Heinrich sobre a invasão de Himelmez.";
	cutin "gl_barmund2",2;
	next;
	select("Himelmez...");
	mes "[" + .@player_name$ + "]";
	mes "Quem é Himelmez?";
	unittalk .@account_id, .@player_name$ + " : Quem é Himelmez?";
	next;
	mes "[Varmundt]";
	mes "Herico não te contou?";
	npctalk "Varmundt: Herico não te contou?";
	cutin "gl_barmund3",2;
	next;
	mes "[Varmundt]";
	mes "Ela é a Filha da Morte, uma das generais mais fortes da Deusa Freya. Himelmez está tentando tirar o coração de Ymir de nós.";
	npctalk "Varmundt: Ela é a Filha da Morte, a Valquíria Necromante. Himelmez está tentando tirar o coração de Ymir de nós.";
	cutin "gl_barmund2",2;
	next;
	mes "[Varmundt]";
	mes "Ela poderia até destruir todo o castelo se quisesse.";
	npctalk "Varmundt: Ela poderia até destruir todo o castelo se quisesse.";
	next;
	mes "[Varmundt]";
	mes "Pressa! Reporte ao senhor. Heinrich sobre Himelmez. Devo verificar a barreira de defesa aqui!";
	npctalk "Varmundt: Pressa! Reporte ao senhor. Heinrich sobre Himelmez. Devo verificar a barreira de defesa aqui!";
	close2;
	cutin "",255;
	disablenpc instance_npcname("Varmundt#0");
	enablenpc instance_npcname("Heinrich#1");
	enablenpc instance_npcname("Varmundt#1");
	end;
}

1@gl_k,145,104,6	script	Khalitzburg Knightage#1	4_F_KHALITZBURG,{
	mes "[Khalitzburg Knightage]";
	mes "Meu turno de trabalho terminará em breve, mas a próxima equipe não virá.";
	close;
}

1@gl_k,154,104,3	script	Khalitzburg Knightage#2	4_F_KHALITZBURG,{
	mes "[Khalitzburg Knightage]";
	mes "Você quer me contar alguma coisa?";
	close;
}

1@gl_k,145,99,6	script	White Knight#3	4_WHITEKNIGHT,{
	mes "[White Knight]";
	mes "Você está com Varmundt? O comandante está esperando por você.";
	close;
}

1@gl_k,154,99,3	duplicate(Khalitzburg Knightage#1)	White Knight#4	4_WHITEKNIGHT

1@gl_k,145,94,6	script	Khalitzburg Knightage#5	4_F_KHALITZBURG,{
	mes "[Khalitzburg Knightage]";
	mes "Tive um sonho estranho ontem à noite. Minha mãe estava nele ... Será que ela está bem ...";
	close;
}

1@gl_k,154,94,3	duplicate(White Knight#3)	Khalitzburg Knightage#6	4_F_KHALITZBURG

1@gl_k,145,89,6	script	White Knight#7	4_WHITEKNIGHT,{
	mes "[White Knight]";
	mes "Por favor, não faça bagunça aqui.";
	close;
}
1@gl_k,154,89,3	duplicate(White Knight#7)	White Knight#8	4_WHITEKNIGHT

1@gl_k,145,84,6	script	Khalitzburg Knightage#9	4_F_KHALITZBURG,{
	mes "[Khalitzburg Knightage]";
	mes "Pedidos, por favor.";
	close;
}
1@gl_k,154,84,3	duplicate(Khalitzburg Knightage#9)	Khalitzburg Knightage#10	4_F_KHALITZBURG

1@gl_k,145,79,6	script	White Knight#11	4_WHITEKNIGHT,{
	mes "[White Knight]";
	mes "Como você conhece Varmundt? Ouvi dizer que ele não é realmente um homem amigável...";
	close;
}
1@gl_k,154,79,3	duplicate(White Knight#11)	White Knight#12	4_WHITEKNIGHT

1@gl_k,145,74,6	script	Khalitzburg Knightage#13	4_F_KHALITZBURG,{
	mes "[Khalitzburg Knightage]";
	mes "Este castelo não parece estranho de repente? Algo não está certo.";
	close;
}
1@gl_k,154,74,3	duplicate(Khalitzburg Knightage#13)	Khalitzburg Knightage#14	4_F_KHALITZBURG

1@gl_k,145,69,6	script	White Knight#15	4_WHITEKNIGHT,{
	mes "[White Knight]";
	mes "Não gosto de conversar durante o trabalho.";
	close;
}
1@gl_k,154,69,3	duplicate(White Knight#15)	White Knight#16	4_WHITEKNIGHT

1@gl_k,145,64,6	script	Khalitzburg Knightage#17	4_F_KHALITZBURG,{
	mes "[Khalitzburg Knightage]";
	mes "...";
	close;
}
1@gl_k,154,64,3	duplicate(Khalitzburg Knightage#17)	Khalitzburg Knightage#18	4_F_KHALITZBURG

1@gl_k,145,59,6	script	White Knight#19	4_WHITEKNIGHT,{
	mes "[White Knight]";
	mes "O que posso fazer para você?";
	close;
}
1@gl_k,154,59,3	duplicate(White Knight#19)	White Knight#20	4_WHITEKNIGHT

1@gl_k,145,54,6	script	Khalitzburg Knightage#21	4_F_KHALITZBURG,{
	mes "[Khalitzburg Knightage]";
	mes "Precisa de algo?";
	close;
}
1@gl_k,154,54,3	duplicate(Khalitzburg Knightage#21)	Khalitzburg Knightage#22	4_F_KHALITZBURG

1@gl_k,149,100,6	script	Heinrich#1	4_M_HEINRICH,{
	if (getcharid(0) != getpartyleader(getcharid(1),2)) {
		mes "[Heinrich]";
		mes "Onde está seu líder? Devo falar com ele.";
		cutin "gl_heinrich2",2;
		close3;
	}
	.@account_id = getcharid(3);
	.@player_name$ = strcharinfo(0);
	cutin "gl_heinrich2",2;
	select("Sir Heinrich. Varmundt...");
	mes "[" + .@player_name$ + "]";
	mes "Sir Heinrich. Você sabe o que está acontecendo no castelo agora?";
	unittalk .@account_id, .@player_name$ + " : Sir Heinrich. Você sabe o que está acontecendo no castelo agora?";
	next;
	mes "[Heinrich]";
	mes "Você não é o aventureiro que veio junto com Varmundt?";
	npctalk "Heinrich: Você não é o aventureiro que veio junto com Varmundt?";
	next;
	mes "[Heinrich]";
	mes "O que é? Algo errado com o castelo?";
	npctalk "Heinrich: O que é? Algo errado com o castelo?";
	next;
	select("Himelmez's invasion...");
	mes "[" + .@player_name$ + "]";
	mes "Himelmez está vindo para pegar o pedaço de Coração de Ymir escondido dentro deste castelo!";
	unittalk .@account_id, .@player_name$ + " : Himelmez está vindo para pegar o pedaço de Coração de Ymir escondido dentro deste castelo!";
	next;
	mes "[Heinrich]";
	mes "Haha. Engraçado. Você realmente acha que isso é possível?";
	npctalk "Heinrich: Haha. Engraçado. Você realmente acha que isso é possível?";
	cutin "gl_heinrich1",2;
	next;
	mes "[Varmundt]";
	mes "Não estou brincando, Sir Heinrich. Se eu estiver correto, então ela estará aqui muito em breve.";
	npctalk "Varmundt: Não estou brincando, Sir Heinrich. Se eu estiver correto, então ela estará aqui muito em breve.", instance_npcname("Varmundt#1");
	cutin "gl_barmund2",2;
	next;
	mes "[Varmundt]";
	mes "Devemos esconder o pedaço de coração em um lugar seguro antes que o ataque de Himelmez comece!";
	npctalk "Varmundt: Devemos esconder o pedaço de coração em um lugar seguro antes que o ataque de Himelmez comece!", instance_npcname("Varmundt#1");
	next;
	select("Mesmo que você não acredite em mim ...");
	mes "[" + .@player_name$ + "]";
	mes "Eu não posso fazer você acreditar em mim, mas não há tempo para discutir!";
	unittalk .@account_id, .@player_name$ + " : Eu não posso fazer você acreditar em mim, mas não há tempo para discutir!";
	cutin "",255;
	next;
	mes "[Heinrich]";
	mes "Obrigado pela ajuda. Mas nem mesmo temos nosso rei conosco agora.";
	npctalk "Heinrich: Obrigado pela ajuda. Mas nem mesmo temos nosso rei conosco agora.";
	cutin "gl_heinrich1",2;
	next;
	mes "[Heinrich]";
	mes "Não podemos arriscar mover o coração só porque algum estranho diz isso.";
	npctalk "Heinrich: Não podemos arriscar mover o coração só porque algum estranho diz isso.";
	close2;
	disablenpc instance_npcname("Heinrich#1");
	enablenpc instance_npcname("Heinrich#2");
	enablenpc instance_npcname("Himelmez#1");
	donpcevent instance_npcname("#talkinstance1") + "::OnEnable";
	cutin "",255;
	end;
}

1@gl_k,152,97,3	script	Varmundt#1	4_M_BARMUND,{ end; }
1@gl_k,149,97,5	duplicate(Varmundt#1)	Heinrich#2	4_M_HEINRICH
1@gl_k,149,100,5	duplicate(Varmundt#1)	Heinrich#3	4_M_HEINRICH
1@gl_k,149,89,1	duplicate(Varmundt#1)	Himelmez#1	4_F_HIMEL

// Control Timer
//============================================================
1@gl_k,1,1,0	script	#talkinstance1	HIDDEN_WARP_NPC,{
	end;
OnEnable:
	mapannounce 'map_name$[0], "????'s: Muahahahaha~!", bc_map,0xFFFF00,FW_NORMAL,18;
	initnpctimer;
	'npc_himelmez1$ = instance_npcname("Himelmez#1");
	'npc_varmundt1$ = instance_npcname("Varmundt#1");
	'npc_heinrich2$ = instance_npcname("Heinrich#2");
	'npc_heinrich3$ = instance_npcname("Heinrich#3");
	end;
OnTimer1500:
	npctalk "Heinrich: Quem é você?", 'npc_heinrich2$;
	end;
OnTimer4500:
	npctalk "Himelmez: Bem, bem ~ Estou interrompendo você? Você não estava me esperando?", 'npc_himelmez1$;
	end;
OnTimer10000:
	npctalk "Varmundt: Himelmez!! Já!", 'npc_varmundt1$;
	end;
OnTimer17500:
	npctalk "Himelmez: Meu nome é Lisa Kahn Himelmez. Mestre de Dullahan, Valquíria Necromante, é assim que me chamam.", 'npc_himelmez1$;
	end;
OnTimer22000:
	npctalk "Heinrich: Você não é um pouco feminino demais para ser a governante da morte? Não temos medo de você ...", 'npc_heinrich2$;
	end;
OnTimer28500:
	npctalk "Himelmez: Vamos ver se você consegue relaxar assim depois de descobrir onde seu rei está.", 'npc_himelmez1$;
	end;
OnTimer36000:
	npctalk "Heinrich: O que?", 'npc_heinrich2$;
	end;
OnTimer41000:
	npctalk "Himelmez: Hmm, agora eu tenho sua atenção, não tenho?", 'npc_himelmez1$;
	end;
OnTimer47000:
	npctalk "Himelmez: Você não quer a posição do rei, apenas espere ele voltar. Gosto da sua pureza..", 'npc_himelmez1$;
	end;
OnTimer54000:
	npctalk "Himelmez: É uma pena conhecê-lo em uma situação como esta.", 'npc_himelmez1$;
	end;
OnTimer59000:
	npctalk "Heinrich: Meu rei está visitando a família real Rune-Midgard. Ele ainda não voltou.", 'npc_heinrich2$;
	end;
OnTimer66500:
	npctalk "Heinrich: E agora você está tentando me enganar, o que aconteceu com ele ?!", 'npc_heinrich2$;
	end;
OnTimer71500:
	npctalk "Himelmez: Bem ~ Eu adoraria sentar e explicar para você, mas estou meio ocupada hoje ~ ", 'npc_himelmez1$;
	end;
OnTimer78000:
	npctalk "Himelmez: Tenho negócios para cuidar. Meus servos vão tratá-lo bem o suficiente para mim ~", 'npc_himelmez1$;
	end;
OnTimer84500:
	npctalk "Heinrich: Ela provavelmente já sabe onde está o pedaço do coração do Ymir.", 'npc_heinrich2$;
	disablenpc 'npc_himelmez1$;
	end;
OnTimer90500:
	npctalk "Heinrich: Todos os Cavaleiros Khalitzburg e Brancos devem me seguir agora ...", 'npc_heinrich2$;
	end;
OnTimer92000:
	for (.@i = 1; .@i <= 20; .@i += 4) {
		hideonnpc instance_npcname("Khalitzburg Knightage#" + .@i);
		hideonnpc instance_npcname("Khalitzburg Knightage#" + (.@i+1));
		hideonnpc instance_npcname("White Knight#" + (.@i+2));
		hideonnpc instance_npcname("White Knight#" + (.@i+3));
	}
	hideonnpc instance_npcname("Khalitzburg Knightage#21");
	hideonnpc instance_npcname("Khalitzburg Knightage#22");

	.@label$ = instance_npcname("#talkinstance1") + "::OnMyMobDead";
	if('OGH_Mode == 1) { // Normal Mode
		monster 'map_name$[0],145,59,"Cavaleiro Amaldiçoado",2470,1,.@label$;// MG_KNIGHT_OF_ABYSS
		monster 'map_name$[0],154,59,"Cavaleiro Amaldiçoado",2470,1,.@label$;
		monster 'map_name$[0],145,69,"Cavaleiro Amaldiçoado",2470,1,.@label$;
		monster 'map_name$[0],154,69,"Cavaleiro Amaldiçoado",2470,1,.@label$;
		monster 'map_name$[0],145,79,"Cavaleiro Amaldiçoado",2470,1,.@label$;
		monster 'map_name$[0],154,79,"Cavaleiro Amaldiçoado",2470,1,.@label$;
		monster 'map_name$[0],145,89,"Cavaleiro Amaldiçoado",2470,1,.@label$;
		monster 'map_name$[0],154,89,"Cavaleiro Amaldiçoado",2470,1,.@label$;
		monster 'map_name$[0],145,99,"Cavaleiro Amaldiçoado",2470,1,.@label$;
		monster 'map_name$[0],154,99,"Cavaleiro Amaldiçoado",2470,1,.@label$;

		monster 'map_name$[0],145,54,"Khalitzburg",2471,1,.@label$;// G_MG_KHALITZBURG
		unittalk $@mobid[0],"Água ... Alguém me dê água ...";
		monster 'map_name$[0],154,54,"Khalitzburg",2471,1,.@label$;
		unittalk $@mobid[0],"Kkkrrrruughgh...";
		monster 'map_name$[0],145,64,"Khalitzburg",2471,1,.@label$;
		unittalk $@mobid[0],"Sir Heinrich. Me salve...";
		monster 'map_name$[0],154,64,"Khalitzburg",2471,1,.@label$;
		unittalk $@mobid[0],"Sinto saudades da minha irmã...";
		monster 'map_name$[0],145,74,"Khalitzburg",2471,1,.@label$;
		unittalk $@mobid[0],"Não vá embora, me ajude...";
		monster 'map_name$[0],154,74,"Khalitzburg",2471,1,.@label$;
		unittalk $@mobid[0],"Aaarrrrrhhhh";
		monster 'map_name$[0],145,84,"Khalitzburg",2471,1,.@label$;
		unittalk $@mobid[0],"Estou com muita sede.";
		monster 'map_name$[0],154,84,"Khalitzburg",2471,1,.@label$;
		unittalk $@mobid[0],"Oh ... Não ... Eu não posso morrer ainda ...";
		monster 'map_name$[0],145,94,"Khalitzburg",2471,1,.@label$;
		unittalk $@mobid[0],"Eu me sinto mal do estômago urrgg";
		monster 'map_name$[0],154,94,"Khalitzburg",2471,1,.@label$;
		unittalk $@mobid[0],"alguem pode...";
		monster 'map_name$[0],145,104,"Khalitzburg",2471,1,.@label$;
		unittalk $@mobid[0],"Arrgg ... Meu corpo";
		monster 'map_name$[0],154,104,"Khalitzburg",2471,1,.@label$;
		unittalk $@mobid[0],"Minha garganta está queimando!";
	} else if('OGH_Mode == 2) { // Hard Mode
		monster 'map_name$[0],145,59,"Cavaleiro Sombrio Hard",3145,1,.@label$;// MG_KNIGHT_OF_ABYSS_H
		monster 'map_name$[0],154,59,"Cavaleiro Sombrio Hard",3145,1,.@label$;
		monster 'map_name$[0],145,69,"Cavaleiro Sombrio Hard",3145,1,.@label$;
		monster 'map_name$[0],154,69,"Cavaleiro Sombrio Hard",3145,1,.@label$;
		monster 'map_name$[0],145,79,"Cavaleiro Sombrio Hard",3145,1,.@label$;
		monster 'map_name$[0],154,79,"Cavaleiro Sombrio Hard",3145,1,.@label$;
		monster 'map_name$[0],145,89,"Cavaleiro Sombrio Hard",3145,1,.@label$;
		monster 'map_name$[0],154,89,"Cavaleiro Sombrio Hard",3145,1,.@label$;
		monster 'map_name$[0],145,99,"Cavaleiro Sombrio Hard",3145,1,.@label$;
		monster 'map_name$[0],154,99,"Cavaleiro Sombrio Hard",3145,1,.@label$;
		
		monster 'map_name$[0],145,54,"Khalitzburg",3146,1,.@label$;// MG_KHALITZBURG_H
		unittalk $@mobid[0],"Água ... Alguém me dê água ...";
		monster 'map_name$[0],154,54,"Khalitzburg",3146,1,.@label$;
		unittalk $@mobid[0],"Kkkrrrruughgh...";
		monster 'map_name$[0],145,64,"Khalitzburg",3146,1,.@label$;
		unittalk $@mobid[0],"Sir Heinrich. Me salve...";
		monster 'map_name$[0],154,64,"Khalitzburg",3146,1,.@label$;
		unittalk $@mobid[0],"Sinto saudades da minha irmã...";
		monster 'map_name$[0],145,74,"Khalitzburg",3146,1,.@label$;
		unittalk $@mobid[0],"Não vá embora, me ajude....";
		monster 'map_name$[0],154,74,"Khalitzburg",3146,1,.@label$;
		unittalk $@mobid[0],"Aaarrrrrhhhh";
		monster 'map_name$[0],145,84,"Khalitzburg",3146,1,.@label$;
		unittalk $@mobid[0],"Estou com muita sede.";
		monster 'map_name$[0],154,84,"Khalitzburg",3146,1,.@label$;
		unittalk $@mobid[0],"Oh ... Não ... Eu não posso morrer ainda ...";
		monster 'map_name$[0],145,94,"Khalitzburg",3146,1,.@label$;
		unittalk $@mobid[0],"Eu me sinto mal do estômago urrgg";
		monster 'map_name$[0],154,94,"Khalitzburg",3146,1,.@label$;
		unittalk $@mobid[0],"alguem pode...";
		monster 'map_name$[0],145,104,"Khalitzburg",3146,1,.@label$;
		unittalk $@mobid[0],"Arrgg ... Meu corpo";
		monster 'map_name$[0],154,104,"Khalitzburg",3146,1,.@label$;
		unittalk $@mobid[0],"Minha garganta está queimando!";
	}
	end;
OnTimer94000:
	npctalk "Heinrich: Meus homens ... Isso não pode estar acontecendo!", 'npc_heinrich2$;
	end;
OnTimer96500:
	npctalk "Varmundt: Sir Heinrich, eles são todos monstros. Você precisa dar-lhes descanso!", 'npc_varmundt1$;
	end;
OnTimer100000:
	npctalk "Heinrich: Eu sinto muito...", 'npc_heinrich2$;
	end;
OnTimer103000:
	npctalk "Heinrich: Sinto muito, meus cavaleiros! Me perdoe!", 'npc_heinrich2$;
	end;
OnTimer106000:
	mapannounce 'map_name$[0], "Sir Heinrich: Morte a todos!", bc_map,0xFFFF33,FW_NORMAL,15;
	end;
OnTimer109000:
	mapannounce 'map_name$[0], "Sir Heinrich: Volte para a escuridão!", bc_map,0xFFFF33,FW_NORMAL,15;
	end;
OnTimer109500:
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#1");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#2");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#1");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#2");
	end;
OnTimer110000:
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("White Knight#3");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("White Knight#4");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#5");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#6");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("White Knight#3");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("White Knight#4");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#5");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#6");
	end;
OnTimer110500:
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("White Knight#7");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("White Knight#8");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#9");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#10");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("White Knight#7");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("White Knight#8");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#9");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#10");
	end;
OnTimer111000:
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("White Knight#11");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("White Knight#12");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#13");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#14");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("White Knight#11");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("White Knight#12");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#13");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#14");
	end;
OnTimer111500:
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("White Knight#15");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("White Knight#16");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#17");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#18");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("White Knight#15");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("White Knight#16");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#17");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#18");
	end;
OnTimer112000:
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("White Knight#19");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("White Knight#20");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#21");
	specialeffect EF_GRANDCROSS,AREA, instance_npcname("Khalitzburg Knightage#22");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("White Knight#19");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("White Knight#20");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#21");
	specialeffect EF_LEXAETERNA,AREA, instance_npcname("Khalitzburg Knightage#22");
	disablenpc 'npc_heinrich2$;
	enablenpc 'npc_heinrich3$;
	killmonster 'map_name$[0], instance_npcname("#talkinstance1") + "::OnMyMobDead";
	end;
OnTimer112500:
	npctalk "Heinrich: Eu matei meus próprios homens ...", 'npc_heinrich3$;
	end;
OnTimer115500:
	npctalk "Varmundt: Sir Heinrich! Não temos muito tempo!", 'npc_varmundt1$;
	end;
OnTimer118500:
	npctalk "Varmundt: Se você se apressar agora, há uma chance!", 'npc_varmundt1$;
	end;
OnTimer121500:
	npctalk "Heinrich: Varmundt está certo. Agora não é hora de lamentar.", 'npc_heinrich3$;
	end;
OnTimer124500:
	npctalk "Heinrich: Eu tenho um pedido para vocês, seguidores.", 'npc_heinrich3$;
	end;
OnTimer127500:
	npctalk "Heinrich: Himelmez pode transformar seres vivos em monstros.", 'npc_heinrich3$;
	end;
OnTimer130500:
	npctalk "Heinrich: Mas, ainda pode haver sobreviventes aqui.", 'npc_heinrich3$;
	end;
OnTimer134500:
	npctalk "Heinrich: Destrua os monstros e encontre os sobreviventes.", 'npc_heinrich3$;
	end;
OnTimer138500:
	npctalk "Heinrich: Varmundt e eu perseguiremos Himelmez.", 'npc_heinrich3$;
	end;
OnTimer143500:
	npctalk "Heinrich: Muito bem, Varmundt. Vamos encontrar Himelmez.", 'npc_heinrich3$;
	end;
OnTimer147500:
	disablenpc 'npc_heinrich3$;
	end;
OnTimer148500:
	stopnpctimer;
	donpcevent instance_npcname("#ghmemorialmob01") + "::OnStart";

	disablenpc 'npc_varmundt1$;
	disablenpc instance_npcname("#talkinstance1");
	'npc_himelmez1$ = 'npc_varmundt1$ = 'npc_heinrich2$ = 'npc_heinrich3$ = "";
	end;
OnMyMobDead:
	end;
}

// Sector 1 Mobs
//============================================================
1@gl_k,1,1,0	script	#ghmemorialmob01	HIDDEN_WARP_NPC,{
	end;
OnStart:
	enablenpc instance_npcname("#ghmemorialmob01");
	enablenpc instance_npcname("#2Control");
	enablenpc instance_npcname("#2Control2");
	mapannounce 'map_name$[0], "Um portal se abriu para o oeste.", bc_map,0xFFFF00;

	// note: x17 MG_GHOUL / x17 MG_ZOMBIE / x17 MG_WRAITH
	.@label$ = instance_npcname("#ghmemorialmob01") + "::OnMyMobDead";
	if('OGH_Mode == 1) { // Normal mode
		areamonster 'map_name$[0],76,99,87,10,"Carniçal Amaldiçoado",2466,14,.@label$;
		areamonster 'map_name$[0],67,39,12, 6,"Alma Amaldiçoada",2465,17,.@label$;
		areamonster 'map_name$[0],67,39,12, 6,"Carniçal Amaldiçoado",2466,3,.@label$;
		areamonster 'map_name$[0],32,75,51,58,"Zumbi Amaldiçoadoo",2464,5,.@label$;
		areamonster 'map_name$[0],45,84,6,137,"Zumbi Amaldiçoado",2464,12,.@label$;
	} else if('OGH_Mode == 2) {
	// note: x17 MG_GHOUL_H / x17 MG_ZOMBIE_H / x17 MG_WRAITH_H
		areamonster 'map_name$[0],76,99,87,10,"Carniçal Sombrio",3141,14,.@label$;
		areamonster 'map_name$[0],67,39,12, 6,"Alma Penada Sombria",3140,17,.@label$;
		areamonster 'map_name$[0],67,39,12, 6,"Carniçal Sombrio",3141,3,.@label$;
		areamonster 'map_name$[0],32,75,51,58,"Zumbi Sombrio",3139,5,.@label$;
		areamonster 'map_name$[0],45,84,6,137,"Zumbi Sombrio",3139,12,.@label$;
	}
	end;
OnMyMobDead:
	.@label$ = instance_npcname("#ghmemorialmob01") + "::OnMyMobDead";
	.@mob_dead_num = 51 - mobcount('map_name$[0],.@label$);
	if (.@mob_dead_num > 35) {
		mapannounce 'map_name$[0], "A maldição de Himelmez está ficando mais fraca. Encontre qualquer sobrevivente!", bc_map,0xFFFFFF;
		killmonster 'map_name$[0], .@label$;
		enablenpc instance_npcname("Altar boy Domun#1");
		disablenpc instance_npcname("#ghmemorialmob01");
	}
	end;
}

1@gl_k,17,51,3	script	Altar boy Domun#1	4_M_KID1,{
	if (getcharid(0) != getpartyleader(getcharid(1),2)) {
		mes "[Altar boy Domun]";
		mes "Salve-me, salve-me, por favor ...";
		close;
	}
	.@account_id = getcharid(3);
	.@player_name$ = strcharinfo(0);
	mes "[Altar boy Domun]";
	mes "Me salve! Me salve!!!";
	npctalk "Me salve! Me salve!!!";
	next;
	select("Aguente! Você é o único sobrevivente?");
	mes "[" + .@player_name$ + "]";
	mes "Aguente! Você é o único sobrevivente?";
	unittalk .@account_id, .@player_name$ + " : Aguente! Você é o único sobrevivente?";
	next;
	mes "[Altar boy Domun]";
	mes "Chamberlains ... monges ... Todos eles se transformaram em monstros. Eu não pude fazer nada.";
	npctalk "Altar boy Domun: Chamberlains ... monges ... Todos eles se transformaram em monstros. Eu não pude fazer nada.";
	next;
	mes "[Altar boy Domun]";
	mes "Tudo que eu podia fazer era ... Apenas me esconder aqui ... Nada, nada que eu pudesse fazer ...";
	npctalk "Altar boy Domun: Tudo que eu podia fazer era ... Apenas me esconder aqui ... Nada, nada que eu pudesse fazer ...";
	next;
	select("Puxe o Junto!");
	mes "[" + .@player_name$ + "]";
	mes "Acorde garoto! Vá para o leste e encontre a passagem do meio para o lado de fora! É seguro lá!";
	unittalk .@account_id, .@player_name$ + " : Acorde garoto! Vá para o leste e encontre a passagem do meio para o lado de fora! É seguro lá!";
	next;
	mes "[Altar boy Domun]";
	mes "Para a passagem leste? Sozinho? Como?";
	npctalk "Altar boy Domun: Para a passagem leste? Sozinho? Como?";
	next;
	select("Vou te dar uma arma.");
	mes "[" + .@player_name$ + "]";
	mes "Aqui está uma arma. Basta fechar o olho e atacar aqueles monstros.";
	unittalk .@account_id, .@player_name$ + " : Aqui está uma arma. Basta fechar o olho e atacar aqueles monstros.";
	next;
	mes "[Altar boy Domun]";
	mes "Ok, I... I'll try.";
	npctalk "Altar boy Domun: Ok, eu ... vou tentar.";
	disablenpc instance_npcname("Altar boy Domun#1");
	donpcevent instance_npcname("#ghmemorialmob02") + "::OnStart";
	close;
}

// Sector 2 Mobs
//============================================================
1@gl_k,1,1,0	script	#ghmemorialmob02	HIDDEN_WARP_NPC,{
	end;
OnStart:
	enablenpc instance_npcname("#ghmemorialmob02");
	enablenpc instance_npcname("#3Control");
	enablenpc instance_npcname("#3Control2");
	for ( .@i = 1; .@i <= 26; .@i++ )
		enablenpc instance_npcname("A dead man#" + .@i);
	mapannounce 'map_name$[0], "Um portal se abriu para o leste.", bc_map,0xFFFF00;

	// note: x34 MG_ZOMBIE / x35 MG_GHOUL
	.@label$ = instance_npcname("#ghmemorialmob02") + "::OnMyMobDead";
	if('OGH_Mode == 1) { // Normal Mode
		areamonster 'map_name$[0],236,12,288,52,"Carniçal Amaldiçoado",2466,18,.@label$;// MG_GHOUL
		areamonster 'map_name$[0],236,12,288,52,"Zumbi Amaldiçoado",2464,17,.@label$;// MG_ZOMBIE
		areamonster 'map_name$[0],242,71,286,145,"Carniçal Amaldiçoado",2466,17,.@label$;
		areamonster 'map_name$[0],242,71,286,145,"Zumbi Amaldiçoado",2464,17,.@label$;
	} else if('OGH_Mode == 2) { // Hard Mode
	// note: x34 MG_ZOMBIE_H / x35 MG_GHOUL_H
		areamonster 'map_name$[0],236,12,288,52,"Carniçal Sombrio",3141,18,.@label$;// MG_GHOUL_H
		areamonster 'map_name$[0],236,12,288,52,"Zumbi Sombrio",3139,17,.@label$;// MG_ZOMBIE_H
		areamonster 'map_name$[0],242,71,286,145,"Carniçal Sombrio",3141,17,.@label$;
		areamonster 'map_name$[0],242,71,286,145,"Zumbi Sombrio",3139,17,.@label$;
	}
	end;
OnMyMobDead:
	.@label$ = instance_npcname("#ghmemorialmob02") + "::OnMyMobDead";
	.@mob_dead_num = 69 - mobcount('map_name$[0],.@label$);
	if (.@mob_dead_num > 56) {
		mapannounce 'map_name$[0], "A maldição de Himelmez está ficando mais fraca. Encontre qualquer sobrevivente!", bc_map,0xFFFFFF;
		killmonster 'map_name$[0],.@label$;
		enablenpc instance_npcname("Holgren the Destroyer#1");
		disablenpc instance_npcname("#ghmemorialmob02");
	}
	end;
}

1@gl_k,291,145,3	script	Holgren the Destroyer#1	4_F_JOB_BLACKSMITH,{
	if (getcharid(0) != getpartyleader(getcharid(1),2)) {
		mes "[Holgren the Destroyer]";
		mes "Você é humano?";
		close;
	}
	.@account_id = getcharid(3);
	.@player_name$ = strcharinfo(0);
	mes "[Holgren the Destroyer]";
	mes "Morrer!! Você deve morrer !!!";
	npctalk "Holgren the Destroyer: Morrer!! Você deve morrer !!!";
	specialeffect EF_CRASHEARTH;
	next;
	select("Relaxar! Eu não sou um monstro!");
	mes "[" + .@player_name$ + "]";
	mes "Relaxe! Eu sou humano. Você está sozinho? Está mais alguém aqui?";
	unittalk .@account_id, .@player_name$ + " : Relaxe! Eu sou humano. Você está sozinho? Está mais alguém aqui?";
	next;
	mes "[Holgren the Destroyer]";
	mes "Sou só eu.";
	npctalk "Holgren the Destroyer: Sou só eu.";
	next;
	select("É perigoso aqui ...");
	mes "[" + .@player_name$ + "]";
	mes "É perigoso aqui. Você conhece o caminho para a passagem do meio? Voce pode se mexer?";
	unittalk .@account_id, .@player_name$ + " : É perigoso aqui. Você conhece o caminho para a passagem do meio? Voce pode se mexer?";
	next;
	mes "[Holgren the Destroyer]";
	mes "Sim, posso me mover. Eu preciso sair daqui.";
	npctalk "Holgren the Destroyer: Sim, posso me mover. Eu preciso sair daqui.";
	next;
	select("Boa sorte...");
	mes "[" + .@player_name$ + "]";
	mes "Desculpe, não posso ir com você.";
	unittalk .@account_id, .@player_name$ + " : Desculpe, não posso ir com você.";
	next;
	mes "[Holgren the Destroyer]";
	mes "Tudo bem. Você já fez o suficiente. Eu posso me ajudar. Boa sorte para você também.";
	npctalk "Holgren the Destroyer: Tudo bem. Você já fez o suficiente. Eu posso me ajudar. Boa sorte para você também.";
	disablenpc instance_npcname("Holgren the Destroyer#1");
	donpcevent instance_npcname("#ghmemorialmob03") + "::OnEnable";
	close;
}

// Tramp Mobs
//============================================================
1@gl_k,221,82,3	script	A dead man#1	4_M_DIEMAN,5,5,{
	end;
OnTouch_:
	.@i = rand(1,10);
	if (.@i == 1) .@mobs = 3;
	else if (.@i == 2) .@mobs = 4;
	else if (.@i == 3) .@mobs = 5;
	else if (.@i < 7) .@mobs = 6;
	else .@mobs = 7;
	getmapxy .@map$,.@x,.@y, BL_NPC;
	specialeffect EF_VENOMDUST;
	if('OGH_Mode == 1) // Normal Mode
		monster .@map$,.@x,.@y,"Arclouse Amaldiçoado",2467,.@mobs;
	else if('OGH_Mode == 2) // Hard Mode
		monster .@map$,.@x,.@y,"Arclouse Sombriot",3142,.@mobs;
	disablenpc instance_npcname( strnpcinfo(0) );
	end;
}
1@gl_k,233,123,4	duplicate(A dead man#1)	A dead man#2	4_M_DIEMAN,5,5
1@gl_k,258,150,2	duplicate(A dead man#1)	A dead man#3	4_M_DIEMAN,5,5
1@gl_k,255,157,5	duplicate(A dead man#1)	A dead man#4	4_M_DIEMAN,5,5
1@gl_k,280,167,4	duplicate(A dead man#1)	A dead man#5	4_M_DIEMAN,5,5
1@gl_k,293,161,2	duplicate(A dead man#1)	A dead man#6	4_M_DIEMAN,5,5
1@gl_k,249,101,3	duplicate(A dead man#1)	A dead man#7	4_M_DIEMAN,5,5
1@gl_k,241,86,6	duplicate(A dead man#1)	A dead man#8	4_M_DIEMAN,5,5
1@gl_k,246,62,0	duplicate(A dead man#1)	A dead man#9	4_M_DIEMAN,5,5
1@gl_k,240,43,7	duplicate(A dead man#1)	A dead man#10	4_M_DIEMAN,5,5
1@gl_k,271,19,1	duplicate(A dead man#1)	A dead man#11	4_M_DIEMAN,5,5
1@gl_k,282,48,5	duplicate(A dead man#1)	A dead man#12	4_M_DIEMAN,5,5
1@gl_k,285,81,7	duplicate(A dead man#1)	A dead man#13	4_M_DIEMAN,5,5
1@gl_k,276,106,0	duplicate(A dead man#1)	A dead man#14	4_M_DIEMAN,5,5
1@gl_k,261,164,0	duplicate(A dead man#1)	A dead man#15	4_M_DIEMAN,5,5
1@gl_k,269,173,0	duplicate(A dead man#1)	A dead man#16	4_M_DIEMAN,5,5
1@gl_k,252,120,0	duplicate(A dead man#1)	A dead man#17	4_M_DIEMAN,5,5
1@gl_k,213,63,0	duplicate(A dead man#1)	A dead man#18	4_M_DIEMAN,5,5
1@gl_k,222,39,0	duplicate(A dead man#1)	A dead man#19	4_M_DIEMAN,5,5
1@gl_k,214,27,0	duplicate(A dead man#1)	A dead man#20	4_M_DIEMAN,5,5
1@gl_k,223,17,1	duplicate(A dead man#1)	A dead man#21	4_M_DIEMAN,5,5
1@gl_k,230,50,2	duplicate(A dead man#1)	A dead man#22	4_M_DIEMAN,5,5
1@gl_k,235,16,3	duplicate(A dead man#1)	A dead man#23	4_M_DIEMAN,5,5
1@gl_k,226,96,4	duplicate(A dead man#1)	A dead man#24	4_M_DIEMAN,5,5
1@gl_k,222,119,5	duplicate(A dead man#1)	A dead man#25	4_M_DIEMAN,5,5
1@gl_k,251,20,6	duplicate(A dead man#1)	A dead man#26	4_M_DIEMAN,5,5

// Sector 3 Mobs
//============================================================
1@gl_k,1,1,0	script	#ghmemorialmob03	HIDDEN_WARP_NPC,{
	end;
OnEnable:
	enablenpc instance_npcname("#ghmemorialmob03");
	enablenpc instance_npcname("#4Control");
	enablenpc instance_npcname("#4Control2");
	mapannounce 'map_name$[0], "Um portal apareceu ao noroeste.", bc_map,0xFFFF00;

	// note: x50 MG_RAYDRIC / x50 MG_RAYDRIC_ARCHER
	.@label$ = instance_npcname("#ghmemorialmob03") + "::OnMyMobDead";
	if('OGH_Mode == 1) { // Normal Mode
		areamonster 'map_name$[0],16,186,43,280,"Arqueiro Amaldiçoado",2469,25,.@label$;
		areamonster 'map_name$[0],44,191,89,225,"Raydric Amaldiçoado",2468,25,.@label$;
		areamonster 'map_name$[0],115,215,188,273,"Raydric Amaldiçoado",2468,20,.@label$;
		areamonster 'map_name$[0],108,232,193,281,"Raydric Amaldiçoado",2468,5,.@label$;
		areamonster 'map_name$[0],158,236,230,250,"Arqueiro Amaldiçoado",2469,12,.@label$;
		areamonster 'map_name$[0],65,231,155,256,"Arqueiro Amaldiçoado",2469,13,.@label$;
	} else if('OGH_Mode == 2) { // Hard Mode
	// note: x50 MG_RAYDRIC_H / x50 MG_RAYDRIC_ARCHER_H
		areamonster 'map_name$[0],16,186,43,280,"Arqueiro Sombrio Hard",3144,25,.@label$;
		areamonster 'map_name$[0],44,191,89,225,"Raydric Sombrio Hard",3143,25,.@label$;
		areamonster 'map_name$[0],115,215,188,273,"Raydric Sombrio Hard",3143,20,.@label$;
		areamonster 'map_name$[0],108,232,193,281,"Raydric Sombrio Hard",3143,5,.@label$;
		areamonster 'map_name$[0],158,236,230,250,"Arqueiro Sombrio Hard",3144,12,.@label$;
		areamonster 'map_name$[0],65,231,155,256,"Arqueiro Sombrio Hard",3144,13,.@label$;
	}
	end;
OnMyMobDead:
	.@label$ = instance_npcname("#ghmemorialmob03") + "::OnMyMobDead";
	.@mob_dead_num = 100 - mobcount('map_name$[0],.@label$);
	if (.@mob_dead_num > 85) {
		killmonster 'map_name$[0],.@label$;
		enablenpc instance_npcname("#Mimelon");
		enablenpc instance_npcname("Himelmez#2");
		enablenpc instance_npcname("Varmundt#2");
		enablenpc instance_npcname("Heinrich#4");
		disablenpc instance_npcname("#ghmemorialmob03");
		mapannounce 'map_name$[0], "Himelmez: Nada mal. Pensei que você já estaria morto pelas minhas criaturas ~", bc_map,0xFFFFFF;
		initnpctimer;
	}
	end;
OnTimer5000:
	mapannounce 'map_name$[0], "Himelmez: Vou esperar por você no norte do castelo. Eu quero ver o quão sortudo você é.", bc_map,0xFFFFFF;
	stopnpctimer;
	end;
}

// 1st MVP
//============================================================
1@gl_k,144,258,6	script	Heinrich#4	4_M_HEINRICH,{
	mes "[Heinrich]";
	mes "Himelmez ... Eu nunca vou esquecer o que você fez aos meus homens.";
	cutin "gl_heinrich1",2;
	close3;
}

// note: never hidden
1@gl_k,156,258,3	script	Varmundt#2	4_M_BARMUND,{
	cutin "gl_barmund1",2;
	mes "[Varmundt]";
	if('OGH_Mode == 1) { // Normal Mode
		if (checkquest(12318,HUNTING) != 2) {
			mes "Eu acho que é isso. É impossível deter a vontade do viajante no tempo?!";
			mes "Um portal parece ter aparecido ao norte.";
			close3;
		}
		erasequest 12318;
		if (isbegin_quest(12319) == 0)
			setquest 12319;// Amdarais Hunt
		if (isbegin_quest(12320) == 0) {
			setquest 12320;// Time Traveler
			completequest 12320;
			getexp 250000,250000;
		}
		mes "Este item tem uma aura extraordinária com ele. Pode ser muito útil para alguém especial.";
		getitem 6607,1;// Temporal_Crystal
		getitem 6608,1;// Coagulated_Spell
		
	} else if('OGH_Mode == 2) { // Hard Mode
		if (checkquest(12336,HUNTING) != 2) {
			mes "Eu acho que é isso. É impossível deter a vontade do viajante no tempo?!";
			mes "Um portal parece ter aparecido ao norte.";
			close3;
		}
		erasequest 12336;
		if (isbegin_quest(12337) == 0)
			setquest 12337;// Amdarais Hunt
		if (isbegin_quest(12338) == 0) {
			setquest 12338;// Time Traveler
			completequest 12338;
			getexp 250000,250000; // Same EXP for Hard Mode?
		}
		mes "Este item tem uma aura extraordinária com ele. Pode ser muito útil para alguém especial.";
		getitem 6607,1; // Temporal_Crystal
		getitem 6755,1; // Contaminated_Magic
	}
	close3;
}

1@gl_k,150,257,3	script	Himelmez#2	4_F_HIMEL,{
	cutin "gl_himel2",2;
	mes "[Himelmez]";
	mes "Não me olhe nervoso assim. Vai acabar logo ...";
	close3;
}

1@gl_k,150,257,0	script	#Mimelon	HIDDEN_WARP_NPC,7,7,{
	end;
OnTouch_:
	disablenpc instance_npcname("#Mimelon");
	initnpctimer;
	'npc_himelmez2$ = instance_npcname("Himelmez#2");
	'npc_heinrich4$ = instance_npcname("Heinrich#4");
	end;
OnTimer3000:
	npctalk "Himelmez: Acho que você tem sorte ou é poderoso para chegar até aqui.", 'npc_himelmez2$;
	end;
OnTimer6000:
	npctalk "Himelmez: Mas não importa.", 'npc_himelmez2$;
	end;
OnTimer9000:
	npctalk "Himelmez: Todos vocês vão morrer aqui.", 'npc_himelmez2$;
	end;
OnTimer12000:
	npctalk "Heinrich: Himelmez! Não vamos deixar você fugir de nós!", 'npc_heinrich4$;
	end;
OnTimer15000:
	npctalk "Himelmez: Ha ha ha, se preocupe com você mesmo. Você acha que estou sozinho aqui?", 'npc_himelmez2$;
	end;
OnTimer18000:
	npctalk "Varmundt: Sir Heinrich! Sinto algo estranho e forte chegando!", instance_npcname("Varmundt#2");
	end;
OnTimer21000:
	npctalk "Heinrich: O que ... estes são!", 'npc_heinrich4$;
	end;
OnTimer24000:
	npctalk "Himelmez: Eu irei embora enquanto meu novo brinquedo entretém você.", 'npc_himelmez2$;
	end;
OnTimer27000:
	npctalk "Himelmez: Passe bem ~, espero vê-lo novamente algum dia, Heinrich.", 'npc_himelmez2$;
	end;
OnTimer28000:
	disablenpc 'npc_himelmez2$;
	end;
OnTimer31000:
	npctalk "Heinrich: Sir Varmundt! Ajude esses aventureiros. Eu irei atrás de Himelmez!", 'npc_heinrich4$;
	end;
OnTimer32000:
	disablenpc 'npc_heinrich4$;
	end;
OnTimer35000:
	mapannounce 'map_name$[0], "Um eco vem de dentro do santuário do cavaleiro.", bc_map,0xFFFFFF;
	end;
OnTimer38000:
	donpcevent instance_npcname("#ghmemorialmob04") + "::OnStart";
	stopnpctimer;
	'npc_himelmez2$ = 'npc_heinrich4$ = "";
	end;
}

1@gl_k,1,1,0	script	#ghmemorialmob04	HIDDEN_WARP_NPC,{
	end;
OnStart:
	enablenpc instance_npcname("#ghmemorialmob04");
	if('OGH_Mode == 1) // Normal Mode
		monster 'map_name$[0],150,259,"Origem da Maldição",2475,1, instance_npcname("#ghmemorialmob04") + "::OnMyMobDead";// MG_CORRUPTION_ROOT
	else if('OGH_Mode == 2) // Hard Mode
		monster 'map_name$[0],150,259,"Origem da Escuridão",3151,1, instance_npcname("#ghmemorialmob04") + "::OnMyMobDead";// MG_CORRUPTION_ROOT
	unittalk $@mobid[0],"Grrrrrrhh~~~";
	end;
OnMyMobDead:
	if (mobcount('map_name$[0], instance_npcname("#ghmemorialmob04") + "::OnMyMobDead") < 1) {
		mapannounce 'map_name$[0], "Abrindo a entrada do 2º andar em direção às 12 horas.", bc_map,0xFFFF00;
		npctalk "Varmundt: Eu coletei alguns itens caídos de seu corpo. Você pode tirar isso de mim.", instance_npcname("Varmundt#2");

		enablenpc instance_npcname("#2F Entrance");
		enablenpc instance_npcname("#1 Control");
		enablenpc instance_npcname("#22 Control");
		enablenpc instance_npcname("#22 Control2");
		enablenpc instance_npcname("#Servanton");
		enablenpc instance_npcname("Heinrich#21");
		enablenpc instance_npcname("Varmundt#21");
		donpcevent instance_npcname("#ghmemorialmob05") + "::OnStart";
		disablenpc instance_npcname("#ghmemorialmob04");
	}
	end;
}

// Floor 2
//============================================================
2@gl_k,148,67,1	script	Heinrich#21	4_M_HEINRICH,{
	mes "[Heinrich]";
	mes "O espaço fechado de Himelmez cobre todos os lugares ...";
	cutin "gl_heinrich1",2;
	close3;
}

2@gl_k,151,71,7	script	Varmundt#21	4_M_BARMUND,{
	mes "[Varmundt]";
	mes "Quantas vezes já fiz este trabalho? No meu sonho, eu fiz isso uma e outra vez ...";
	cutin "gl_barmund2",2;
	close3;
}

2@gl_k,150,66,0	script	#Servanton_effect	HIDDEN_WARP_NPC,{
	end;
OnEffect:
	specialeffect EF_LORD;
	end;
}

// note: this part can be skipped
2@gl_k,150,66,0	script	#Servanton	HIDDEN_WARP_NPC,7,7,{
	end;
OnTouch_:
	disablenpc instance_npcname("#Servanton");
	initnpctimer;
	'npc_heinrich$ = instance_npcname("Heinrich#21");
	'npc_varmundt$ = instance_npcname("Varmundt#21");
	end;
OnTimer3000:
	npctalk "Heinrich: Esta estrutura não estava no castelo antes!", 'npc_heinrich$;
	end;
OnTimer6000:
	npctalk "Varmundt: Este é o espaço fechado de Himelmez. Bloqueamos cada área e corredor.", 'npc_varmundt$;
	end;
OnTimer9000:
	npctalk "Heinrich: Tentamos quebrar, mas é muito forte.", 'npc_heinrich$;
	end;
OnTimer12000:
	npctalk "Varmundt: Dê um passo para trás. Deixe-me tentar dissipar a magia.", 'npc_varmundt$;
	end;
OnTimer15000:
	specialeffect EF_LORD,AREA, instance_npcname("#Servanton_effect");
	disablenpc instance_npcname("#Servanton_effect");
	end;
OnTimer18000:
	npctalk "Varmundt: Acho que parte do espaço fechado está destruído.", 'npc_varmundt$;
	end;
OnTimer21000:
	npctalk "Varmundt: Eu nunca vi esse espaço fechado.", 'npc_varmundt$;
	end;
OnTimer24000:
	npctalk "Varmundt: Himelmez esconde correntes de pedra no corpo dos mortos-vivos.", 'npc_varmundt$;
	end;
OnTimer27000:
	npctalk "Varmundt: Talvez este espaço fechado seja mantido com essas correntes de pedra.", 'npc_varmundt$;
	end;
OnTimer30000:
	npctalk "Varmundt: Se você quiser quebrá-lo, terá que matar um dos que têm uma corrente de pedra.", 'npc_varmundt$;
	end;
OnTimer33000:
	npctalk "Varmundt: Mas não podemos reconhecer quem tem uma corrente de pedra, então temos que purificar tudo.", 'npc_varmundt$;
	end;
OnTimer36000:
	npctalk "Heinrich: É um comportamento imperdoável.", 'npc_heinrich$;
	end;
OnTimer39000:
	npctalk "Heinrich: Já exterminei todos os meus soldados e talvez mais ...", 'npc_heinrich$;
	end;
OnTimer42000:
	npctalk "Varmundt: Comandante...", 'npc_varmundt$;
	end;
OnTimer45000:
	npctalk "Varmundt: Comandante! Você precisa ser forte.", 'npc_varmundt$;
	end;
OnTimer48000:
	npctalk "Varmundt: Nosso inimigo não é humano.", 'npc_varmundt$;
	end;
OnTimer51000:
	npctalk "Varmundt: Mesmo que você negue, eles nunca voltarão a ser humanos.", 'npc_varmundt$;
	end;
OnTimer54000:
	npctalk "Heinrich: ...", 'npc_heinrich$;
	end;
OnTimer57000:
	npctalk "Varmundt: Bem, vamos então.", 'npc_varmundt$;
	end;
OnTimer60000:
	npctalk "Varmundt: E vocês, façam uma pausa e sigam-nos.", 'npc_varmundt$;
	end;
OnTimer63000:
	npctalk "Varmundt: Pode ser difícil lutar, então fique forte", 'npc_varmundt$;
	end;
OnTimer66000:
	npctalk "Varmundt: Ok, é hora de começar Heinrich.", 'npc_varmundt$;
	end;
OnTimer69000:
	mapannounce 'map_name$[1], "Um portal para o oeste foi aberto no corredor central.", bc_map,0xFFFF00;
	disablenpc 'npc_varmundt$;
	disablenpc 'npc_heinrich$;
	stopnpctimer;
	'npc_varmundt$ = 'npc_heinrich$ = "";
	end;
}

// Spots
// Note: timer is the only condition for them to respawn
2@gl_k,118,141,0	script	#ogh_2-1	HIDDEN_WARP_NPC,20,20,{
	end;
OnTouch_:
	disablenpc instance_npcname( strnpcinfo(0) );
	.@hidden_name$ = strnpcinfo(2);
	.@event_type = atoi( charat(.@hidden_name$,4) );
	if (.@event_type == 2)
		.@label$ = instance_npcname("#ghmemorialmob05") + "::OnMyMobDead";
	else
		.@label$ = instance_npcname("#ghmemorialmob06") + "::OnMyMobDead";
	getmapxy .@map$,.@x,.@y, BL_NPC;
	if('OGH_Mode == 1) { // Normal Mode
		monster .@map$,.@x,.@y, "Raydric Amaldiçoado", 2468,1, .@label$;
		monster .@map$,.@x,.@y, "Arqueiro Amaldiçoado", 2469,1, .@label$;
		monster .@map$,.@x,.@y, "Cavaleiro Amaldiçoado", 2470,1, .@label$;
		monster .@map$,.@x,.@y, "Khalitzburg Amaldiçoado", 2471,1, .@label$;
		monster .@map$,.@x,.@y, "Sanguinário Amaldiçoado", 2472,1, .@label$;
	} else if('OGH_Mode == 2) { // Hard Mode
		monster .@map$,.@x,.@y, "Raydric Sombrio Hard", 3143,1, .@label$;
		monster .@map$,.@x,.@y, "Arqueiro Sombrio Hard", 3144,1, .@label$;
		monster .@map$,.@x,.@y, "Cavaleiro Sombrio Hard", 3145,1, .@label$;
		monster .@map$,.@x,.@y, "Khalitzburg Sombria Hard", 3146,1, .@label$;
		monster .@map$,.@x,.@y, "Sanguinário Sombrio Hard", 3147,1, .@label$;
	}
	initnpctimer;
	end;
OnTimer30000:
	enablenpc instance_npcname( strnpcinfo(0) );
	stopnpctimer;
	end;
OnStop:
	disablenpc instance_npcname( strnpcinfo(0) );
	stopnpctimer;
	end;
}
2@gl_k,128,81,0	duplicate(#ogh_2-1)	#ogh_2-2	HIDDEN_WARP_NPC,20,20
2@gl_k,131,54,0	duplicate(#ogh_2-1)	#ogh_2-3	HIDDEN_WARP_NPC,20,20
2@gl_k,89,48,0	duplicate(#ogh_2-1)	#ogh_2-4	HIDDEN_WARP_NPC,20,20
2@gl_k,64,117,0	duplicate(#ogh_2-1)	#ogh_2-5	HIDDEN_WARP_NPC,20,20
2@gl_k,62,82,0	duplicate(#ogh_2-1)	#ogh_2-6	HIDDEN_WARP_NPC,20,20
2@gl_k,38,138,0	duplicate(#ogh_2-1)	#ogh_2-7	HIDDEN_WARP_NPC,20,20

2@gl_k,171,120,0	duplicate(#ogh_2-1)	#ogh_3-1	HIDDEN_WARP_NPC,20,20
2@gl_k,232,133,0	duplicate(#ogh_2-1)	#ogh_3-2	HIDDEN_WARP_NPC,20,20
2@gl_k,256,149,0	duplicate(#ogh_2-1)	#ogh_3-3	HIDDEN_WARP_NPC,20,20
2@gl_k,212,106,0	duplicate(#ogh_2-1)	#ogh_3-4	HIDDEN_WARP_NPC,20,20
2@gl_k,243,73,0	duplicate(#ogh_2-1)	#ogh_3-5	HIDDEN_WARP_NPC,20,20
2@gl_k,229,26,0	duplicate(#ogh_2-1)	#ogh_3-6	HIDDEN_WARP_NPC,20,20
2@gl_k,181,34,0	duplicate(#ogh_2-1)	#ogh_3-7	HIDDEN_WARP_NPC,20,20

// Commander 1
2@gl_k,1,1,0	script	#ghmemorialmob05	HIDDEN_WARP_NPC,{
	end;
OnStart:
	enablenpc instance_npcname("#ghmemorialmob05");
	for ( .@i = 1; .@i <= 7; .@i++ )
		enablenpc instance_npcname("#ogh_2-" + .@i);
	end;

OnMyMobDead:
	if (rand(50) == 0) {// can re-spawn
		mapannounce 'map_name$[1], "Forças do mal estão aparecendo nesta área.", bc_map,0xFFFF44,FW_NORMAL,15;
		killmonster 'map_name$[1], instance_npcname("#ghmemorialmob05") + "::OnBossDead";

		.@r = rand(4) * 2;
		setarray .@coord[0], 41,146, 58,44, 122,148, 131,64;
		if('OGH_Mode == 1) // Normal Mode
			monster 'map_name$[1],.@coord[.@r],.@coord[.@r+1], "Cavaleiro Desmorto",2473,1, instance_npcname("#ghmemorialmob05") + "::OnBossDead";
		else if('OGH_Mode == 2) // Hard Mode
			monster 'map_name$[1],.@coord[.@r],.@coord[.@r+1], "Desmorto Sombrio Hard",3148,1, instance_npcname("#ghmemorialmob05") + "::OnBossDead";
	}
	end;

OnBossDead:
	mapannounce 'map_name$[1], "Um portal foi aberto para o leste no corredor central.", bc_map,0xFFFF00;
	enablenpc instance_npcname("#23 Control");
	enablenpc instance_npcname("#23 Control2");
	donpcevent instance_npcname("#ghmemorialmob06") + "::OnStart";

	disablenpc instance_npcname("#ghmemorialmob05");
	for ( .@i = 1; .@i <= 7; .@i++ )
		donpcevent instance_npcname("#ogh_2-" + .@i) + "::OnStop";
	end;
}

// Emergency Spawner - until I managed to completely fix the Hard Mode Support
2@gl_k,130,118,0	script	Emergency Spawner	4_SYSTEM_BOX,{

mes "["+strnpcinfo(0)+"]";
mes "Você está preso? Monstros não vão aparecer mais?";
mes "Então eu posso te ajudar!";
mes " ";
mes "Debug: Se for '0', entre em contato com um GM com uma captura de tela: "+'OGH_Mode;
next;
mes "["+strnpcinfo(0)+"]";
if(mobcount(strnpcinfo(4),instance_npcname("#ghmemorialmob05") + "::OnMyMobDead") < 5) {
	donpcevent instance_npcname("#ogh_2-1") + "::OnTimer30000";
	donpcevent instance_npcname("#ogh_2-2") + "::OnTimer30000";
	donpcevent instance_npcname("#ogh_2-3") + "::OnTimer30000";
	donpcevent instance_npcname("#ogh_2-4") + "::OnTimer30000";
	donpcevent instance_npcname("#ogh_2-5") + "::OnTimer30000";
	donpcevent instance_npcname("#ogh_2-6") + "::OnTimer30000";
	donpcevent instance_npcname("#ogh_2-7") + "::OnTimer30000";
	mes "Eu reativei o Monster Spawns!";
	
} else
	mes "Existem "+ mobcount(strnpcinfo(4),instance_npcname("#ghmemorialmob05") + "::OnMyMobDead")+" Monstros faltando. Mate-os antes de falar comigo, por favor!";

close3;

OnInit:
disablenpc strnpcinfo(0);
end;

OnInstanceInit:
enablenpc instance_npcname(strnpcinfo(0));
end;
}
// Commander 2
2@gl_k,1,1,0	script	#ghmemorialmob06	HIDDEN_WARP_NPC,{
	end;
OnStart:
	enablenpc instance_npcname("#ghmemorialmob06");
	for ( .@i = 1; .@i <= 7; .@i++ )
		enablenpc instance_npcname("#ogh_3-" + .@i);

	// Fix spawn
	.@label$ = instance_npcname("#ghmemorialmob06") + "::OnMyMobDead";
	if('OGH_Mode == 1) { // Normal Mode
		monster 'map_name$[1],252, 75, "Raydric Amaldiçoado",2468,1, .@label$;
		monster 'map_name$[1],253, 76, "Raydric Amaldiçoado",2468,1, .@label$;
		monster 'map_name$[1],247, 77, "Raydric Amaldiçoado",2468,1, .@label$;
		monster 'map_name$[1],248, 80, "Raydric Amaldiçoado",2468,1, .@label$;
		monster 'map_name$[1],236,100, "Raydric Amaldiçoado",2468,1, .@label$;
		monster 'map_name$[1],240,100, "Raydric Amaldiçoado",2468,1, .@label$;
		monster 'map_name$[1],242,100, "Raydric Amaldiçoado",2468,1, .@label$;
		monster 'map_name$[1],244,100, "Raydric Amaldiçoado",2468,1, .@label$;
		monster 'map_name$[1],199,111, "Raydric Amaldiçoado",2468,1, .@label$;
		monster 'map_name$[1],181,107, "Arqueiro Amaldiçoado",2469,1, .@label$;
		monster 'map_name$[1],177,110, "Arqueiro Amaldiçoado",2469,1, .@label$;
		monster 'map_name$[1],236, 27, "Arqueiro Amaldiçoado",2469,1, .@label$;
		monster 'map_name$[1],242, 27, "Arqueiro Amaldiçoado",2469,1, .@label$;
		monster 'map_name$[1],252, 26, "Arqueiro Amaldiçoado",2469,1, .@label$;
		monster 'map_name$[1],172,130, "Arqueiro Amaldiçoado",2469,1, .@label$;
		monster 'map_name$[1],171,127, "Arqueiro Amaldiçoado",2469,1, .@label$;
		monster 'map_name$[1],173,127, "Arqueiro Amaldiçoado",2469,1, .@label$;
		monster 'map_name$[1],177, 69, "Cavaleiro Amaldiçoado",2470,1, .@label$;
		monster 'map_name$[1],186, 66, "Cavaleiro Amaldiçoado",2470,1, .@label$;
		monster 'map_name$[1],189, 67, "Cavaleiro Amaldiçoado",2470,1, .@label$;
		monster 'map_name$[1],190, 68, "Cavaleiro Amaldiçoado",2470,1, .@label$;
		monster 'map_name$[1],257,157, "Cavaleiro Amaldiçoado",2470,1, .@label$;
		monster 'map_name$[1],246,159, "Cavaleiro Amaldiçoado",2470,1, .@label$;
		monster 'map_name$[1],237,158, "Cavaleiro Amaldiçoado",2470,1, .@label$;
		monster 'map_name$[1],206,159, "Cavaleiro Amaldiçoado",2470,1, .@label$;
		monster 'map_name$[1],172,120, "Cavaleiro Amaldiçoado",2470,1, .@label$;
		monster 'map_name$[1],226, 30, "Khalitzburg Amaldiçoada",2471,1, .@label$;
		monster 'map_name$[1],226, 38, "Khalitzburg Amaldiçoada",2471,1, .@label$;
		monster 'map_name$[1],228, 29, "Khalitzburg Amaldiçoada",2471,1, .@label$;
		monster 'map_name$[1],226, 63, "Khalitzburg Amaldiçoada",2471,1, .@label$;
		monster 'map_name$[1],268,137, "Khalitzburg Amaldiçoada",2471,1, .@label$;
		monster 'map_name$[1],263,138, "Khalitzburg Amaldiçoada",2471,1, .@label$;
		monster 'map_name$[1],259,138, "Khalitzburg Amaldiçoada",2471,1, .@label$;
		monster 'map_name$[1],259,138, "Khalitzburg Amaldiçoada",2471,1, .@label$;
		monster 'map_name$[1],187,121, "Khalitzburg Amaldiçoada",2471,1, .@label$;
		monster 'map_name$[1],265, 52, "Sanguinário Amaldiçoado",2472,1, .@label$;
		monster 'map_name$[1],265, 55, "Sanguinário Amaldiçoado",2472,1, .@label$; 
		monster 'map_name$[1],264, 79, "Sanguinário Amaldiçoado",2472,1, .@label$; 
		monster 'map_name$[1],225, 92, "Sanguinário Amaldiçoado",2472,1, .@label$; 
		monster 'map_name$[1],237, 92, "Sanguinário Amaldiçoado",2472,1, .@label$; 
		monster 'map_name$[1],249, 92, "Sanguinário Amaldiçoado",2472,1, .@label$; 
		monster 'map_name$[1],256, 93, "Sanguinário Amaldiçoado",2472,1, .@label$; 
		monster 'map_name$[1],264,100, "Sanguinário Amaldiçoado",2472,1, .@label$;
		monster 'map_name$[1],181,120, "Sanguinário Amaldiçoado",2472,1, .@label$;

	} if('OGH_Mode == 2) { // Hard Mode
		monster 'map_name$[1],252, 75, "Raydric Sombrio Hard",3143,1, .@label$;
		monster 'map_name$[1],253, 76, "Raydric Sombrio Hard",3143,1, .@label$;
		monster 'map_name$[1],247, 77, "Raydric Sombrio Hard",3143,1, .@label$;
		monster 'map_name$[1],248, 80, "Raydric Sombrio Hard",3143,1, .@label$;
		monster 'map_name$[1],236,100, "Raydric Sombrio Hard",3143,1, .@label$;
		monster 'map_name$[1],240,100, "Raydric Sombrio Hard",3143,1, .@label$;
		monster 'map_name$[1],242,100, "Raydric Sombrio Hard",3143,1, .@label$;
		monster 'map_name$[1],244,100, "Raydric Sombrio Hard",3143,1, .@label$;
		monster 'map_name$[1],199,111, "Raydric Sombrio Hard",3143,1, .@label$;
		monster 'map_name$[1],181,107, "Arqueiro Sombrio Hard",3144,1, .@label$;
		monster 'map_name$[1],177,110, "Arqueiro Sombrio Hard",3144,1, .@label$;
		monster 'map_name$[1],236, 27, "Arqueiro Sombrio Hard",3144,1, .@label$;
		monster 'map_name$[1],242, 27, "Arqueiro Sombrio Hard",3144,1, .@label$;
		monster 'map_name$[1],252, 26, "Arqueiro Sombrio Hard",3144,1, .@label$;
		monster 'map_name$[1],172,130, "Arqueiro Sombrio Hard",3144,1, .@label$;
		monster 'map_name$[1],171,127, "Arqueiro Sombrio Hard",3144,1, .@label$;
		monster 'map_name$[1],173,127, "Arqueiro Sombrio Hard",3144,1, .@label$;
		monster 'map_name$[1],177, 69, "Cavaleiro Sombrio Hard",3145,1, .@label$;
		monster 'map_name$[1],186, 66, "Cavaleiro Sombrio Hard",3145,1, .@label$;
		monster 'map_name$[1],189, 67, "Cavaleiro Sombrio Hard",3145,1, .@label$;
		monster 'map_name$[1],190, 68, "Cavaleiro Sombrio Hard",3145,1, .@label$;
		monster 'map_name$[1],257,157, "Cavaleiro Sombrio Hard",3145,1, .@label$;
		monster 'map_name$[1],246,159, "Cavaleiro Sombrio Hard",3145,1, .@label$;
		monster 'map_name$[1],237,158, "Cavaleiro Sombrio Hard",3145,1, .@label$;
		monster 'map_name$[1],206,159, "Cavaleiro Sombrio Hard",3145,1, .@label$;
		monster 'map_name$[1],172,120, "Cavaleiro Sombrio Hard",3145,1, .@label$;
		monster 'map_name$[1],226, 30, "Khalitzburg Sombria Hard",3146,1, .@label$;
		monster 'map_name$[1],226, 38, "Khalitzburg Sombria Hard",3146,1, .@label$;
		monster 'map_name$[1],228, 29, "Khalitzburg Sombria Hard",3146,1, .@label$;
		monster 'map_name$[1],226, 63, "Khalitzburg Sombria Hard",3146,1, .@label$;
		monster 'map_name$[1],268,137, "Khalitzburg Sombria Hard",3146,1, .@label$;
		monster 'map_name$[1],263,138, "Khalitzburg Sombria Hard",3146,1, .@label$;
		monster 'map_name$[1],259,138, "Khalitzburg Sombria Hard",3146,1, .@label$;
		monster 'map_name$[1],259,138, "Khalitzburg Sombria Hard",3146,1, .@label$;
		monster 'map_name$[1],187,121, "Khalitzburg Sombria Hard",3146,1, .@label$;
		monster 'map_name$[1],265, 52, "Sanguinário Sombrio Hard",3147,1, .@label$;
		monster 'map_name$[1],265, 55, "Sanguinário Sombrio Hard",3147,1, .@label$; 
		monster 'map_name$[1],264, 79, "Sanguinário Sombrio Hard",3147,1, .@label$; 
		monster 'map_name$[1],225, 92, "Sanguinário Sombrio Hard",3147,1, .@label$; 
		monster 'map_name$[1],237, 92, "Sanguinário Sombrio Hard",3147,1, .@label$; 
		monster 'map_name$[1],249, 92, "Sanguinário Sombrio Hard",3147,1, .@label$; 
		monster 'map_name$[1],256, 93, "Sanguinário Sombrio Hard",3147,1, .@label$; 
		monster 'map_name$[1],264,100, "Sanguinário Sombrio Hard",3147,1, .@label$;
		monster 'map_name$[1],181,120, "Sanguinário Sombrio Hard",3147,1, .@label$;
	}
	end;

OnMyMobDead:
	if (rand(50) == 0) {// can re-spawn
		mapannounce 'map_name$[1], "Uma presença maligna foi teletransportada para esta área.", bc_map,0xFFFF44,FW_NORMAL,15;
		killmonster 'map_name$[1], instance_npcname("#ghmemorialmob06") + "::OnBossDead";

		.@r = rand(4) * 2;
		setarray .@coord[0], 166,119, 211,45, 227,139, 245,74;
		if('OGH_Mode == 1) // Normal Mode
			monster 'map_name$[1],.@coord[.@r],.@coord[.@r+1], "Cavaleira Desmorta",2474,1, instance_npcname("#ghmemorialmob06") + "::OnBossDead";
		else if('OGH_Mode == 2) // Hard Mode
			monster 'map_name$[1],.@coord[.@r],.@coord[.@r+1], "Desmorta Sombria Hard",3149,1, instance_npcname("#ghmemorialmob06") + "::OnBossDead";
	}
	end;

OnBossDead:
	mapannounce 'map_name$[1], "Um novo portal apareceu no final do corredor central.", bc_map,0xFFFF00;
	enablenpc instance_npcname("#24 Control");
	enablenpc instance_npcname("#24 Control2");
	enablenpc instance_npcname("#Geron");
	for ( .@i = 1; .@i <= 35; .@i++ )
		enablenpc instance_npcname("Decomposed body#" + .@i);

	disablenpc instance_npcname("#ghmemorialmob06");
	for ( .@i = 1; .@i <= 7; .@i++ )
		donpcevent instance_npcname("#ogh_3-" + .@i) + "::OnStop";

	// Hidden mobs
	setarray .@coord[0],
		 37,265, 57,265, 77,265, 97,265, 117,265, 188,264, 208,264,
		 50,172, 70,172, 90,172, 110,172, 170,172, 210,172, 230,172,
		 88,214, 108,214, 128,214, 180,219, 200,219, 220,219, 240,219;
	.@size = getarraysize(.@coord);
	for ( .@i = 0; .@i < .@size; .@i += 2 )
		monster 'map_name$[1], .@coord[.@i], .@coord[.@i+1], "Flame of destruction",2337,1;// HIDDEN_MOB
	end;
}

// Amdarais Room Entrance
2@gl_k,150,180,0	script	#Geron	HIDDEN_WARP_NPC,7,7,{
	end;
OnTouch_:
	disablenpc instance_npcname("#Geron");
	mapannounce 'map_name$[1], "???: Não venha aqui! É uma armadilha ... Kkkkah !!!", bc_map,0xFF7777,FW_NORMAL,15;
	enablenpc instance_npcname("Himelmez#22");
	enablenpc instance_npcname("Varmundt#23");
	enablenpc instance_npcname("Heinrich#23");
	enablenpc instance_npcname("Gerhalt#23");
	end;
}

2@gl_k,143,260,4	script	Decomposed body#1	4_M_DIEMAN,5,5,{
	end;
OnTouch_:
	disablenpc instance_npcname( strnpcinfo(0) );
	.@i = rand(1,10);
	if (.@i == 1) .@mobs = 3;
	else if (.@i == 2) .@mobs = 4;
	else if (.@i == 3) .@mobs = 5;
	else if (.@i < 7) .@mobs = 6;
	else .@mobs = 7;
	getmapxy .@map$,.@x,.@y, BL_NPC;
	specialeffect EF_VENOMDUST;
	if('OGH_Mode == 1) // Easy Mode
		monster .@map$,.@x,.@y,"Arclouse Amaldiçoado",2467,.@mobs;
	else if('OGH_Mode == 2) // Hard Mode
		monster .@map$,.@x,.@y,"Arclouse Sombrio",3142,.@mobs;
	initnpctimer;
	end;
OnTimer45000:
	enablenpc instance_npcname( strnpcinfo(0) );
	stopnpctimer;
	end;
}
2@gl_k,145,236,4	duplicate(Decomposed body#1)	Decomposed body#2	4_M_DIEMAN,5,5
2@gl_k,141,222,2	duplicate(Decomposed body#1)	Decomposed body#3	4_M_DIEMAN,5,5
2@gl_k,147,203,5	duplicate(Decomposed body#1)	Decomposed body#4	4_M_DIEMAN,5,5
2@gl_k,167,225,4	duplicate(Decomposed body#1)	Decomposed body#5	4_M_DIEMAN,5,5
2@gl_k,172,233,2	duplicate(Decomposed body#1)	Decomposed body#6	4_M_DIEMAN,5,5
2@gl_k,176,244,3	duplicate(Decomposed body#1)	Decomposed body#7	4_M_DIEMAN,5,5
2@gl_k,184,248,6	duplicate(Decomposed body#1)	Decomposed body#8	4_M_DIEMAN,5,5
2@gl_k,193,228,0	duplicate(Decomposed body#1)	Decomposed body#9	4_M_DIEMAN,5,5
2@gl_k,206,250,7	duplicate(Decomposed body#1)	Decomposed body#10	4_M_DIEMAN,5,5
2@gl_k,130,249,1	duplicate(Decomposed body#1)	Decomposed body#11	4_M_DIEMAN,5,5
2@gl_k,122,236,5	duplicate(Decomposed body#1)	Decomposed body#12	4_M_DIEMAN,5,5
2@gl_k,130,228,7	duplicate(Decomposed body#1)	Decomposed body#13	4_M_DIEMAN,5,5
2@gl_k,106,226,0	duplicate(Decomposed body#1)	Decomposed body#14	4_M_DIEMAN,5,5
2@gl_k,104,245,0	duplicate(Decomposed body#1)	Decomposed body#15	4_M_DIEMAN,5,5
2@gl_k,131,187,0	duplicate(Decomposed body#1)	Decomposed body#16	4_M_DIEMAN,5,5
2@gl_k,121,197,0	duplicate(Decomposed body#1)	Decomposed body#17	4_M_DIEMAN,5,5
2@gl_k,107,194,0	duplicate(Decomposed body#1)	Decomposed body#18	4_M_DIEMAN,5,5
2@gl_k,92,187,0	duplicate(Decomposed body#1)	Decomposed body#19	4_M_DIEMAN,5,5
2@gl_k,153,214,3	duplicate(Decomposed body#1)	Decomposed body#20	4_M_DIEMAN,5,5
2@gl_k,155,195,4	duplicate(Decomposed body#1)	Decomposed body#21	4_M_DIEMAN,5,5
2@gl_k,154,188,2	duplicate(Decomposed body#1)	Decomposed body#22	4_M_DIEMAN,5,5
2@gl_k,143,195,5	duplicate(Decomposed body#1)	Decomposed body#23	4_M_DIEMAN,5,5
2@gl_k,132,214,4	duplicate(Decomposed body#1)	Decomposed body#24	4_M_DIEMAN,5,5
2@gl_k,125,208,2	duplicate(Decomposed body#1)	Decomposed body#25	4_M_DIEMAN,5,5
2@gl_k,114,210,3	duplicate(Decomposed body#1)	Decomposed body#26	4_M_DIEMAN,5,5
2@gl_k,137,182,6	duplicate(Decomposed body#1)	Decomposed body#27	4_M_DIEMAN,5,5
2@gl_k,138,246,0	duplicate(Decomposed body#1)	Decomposed body#28	4_M_DIEMAN,5,5
2@gl_k,132,260,7	duplicate(Decomposed body#1)	Decomposed body#29	4_M_DIEMAN,5,5
2@gl_k,128,251,1	duplicate(Decomposed body#1)	Decomposed body#30	4_M_DIEMAN,5,5
2@gl_k,179,260,3	duplicate(Decomposed body#1)	Decomposed body#31	4_M_DIEMAN,5,5
2@gl_k,170,261,4	duplicate(Decomposed body#1)	Decomposed body#32	4_M_DIEMAN,5,5
2@gl_k,177,219,2	duplicate(Decomposed body#1)	Decomposed body#33	4_M_DIEMAN,5,5
2@gl_k,190,214,5	duplicate(Decomposed body#1)	Decomposed body#34	4_M_DIEMAN,5,5
2@gl_k,201,214,4	duplicate(Decomposed body#1)	Decomposed body#35	4_M_DIEMAN,5,5

// Amdarais Spawn
2@gl_k,153,250,8	script	Heinrich#23	4_M_HEINRICH,{
	cutin "gl_heinrich1",2;
	mes "[Heinrich]";
	mes "O que você está colocando em Himelmez!";
	close3;
}

2@gl_k,162,250,1	script	Varmundt#23	4_M_BARMUND,{
	mes "[Varmundt]";
	mes "Não posso tirar este freio...";
	cutin "gl_barmund2",2;
	close3;
}

2@gl_k,158,255,1	script	Gerhalt#23	4_LEVITATEMAN,{
	mes "[Gerhalt]";
	mes "Uuuuu ... Khhhah! Apenas fuja com o comandante.";
	close;
}

2@gl_k,158,252,1	script	Himelmez#22	4_F_HIMEL,3,3,{
	cutin "gl_himel2",2;
	mes "[Himelmez]";
	mes "Isso é incrível ~ você veio até aqui. Posso dizer obrigado?";
	close3;

OnTouch:
	end;
OnTouch_:
	disablenpc instance_npcname("Himelmez#22");
	enablenpc instance_npcname("Himelmez#23");
	initnpctimer;
	'npc_himelmez$ = instance_npcname("Himelmez#23");
	'npc_gerhalt$ = instance_npcname("Gerhalt#23");
	'npc_heinrich$ = instance_npcname("Heinrich#23");
	'npc_varmundt$ = instance_npcname("Varmundt#23");
	end;
OnTimer3000:
	npctalk "Himelmez: Incrível ~ Eu pensei que você não estava nem perto de chegar aqui ...", 'npc_himelmez$;
	end;
OnTimer6000:
	npctalk "Gerhalt: Kkkkah! Fugir! Eu não aguento mais!", 'npc_gerhalt$;
	end;
OnTimer9000:
	npctalk "Heinrich: Gerhalt!", 'npc_heinrich$;
	end;
OnTimer15000:
	npctalk "Heinrich: O que você está fazendo com meu soldado Himelmez!", 'npc_heinrich$;
	end;
OnTimer18000:
	npctalk "Himelmez: Hoo hoo, eu já encontrei um pedaço do coração de Ymir, Heinrich.", 'npc_himelmez$;
	end;
OnTimer21000:
	npctalk "Himelmez: Se ele não me incomodasse, teria sido mais rápido.", 'npc_himelmez$;
	end;
OnTimer24000:
	npctalk "Gerhalt: Comandante ... Vamos, você precisa fugir daqui ... Ugh.", 'npc_gerhalt$;
	end;
OnTimer27000:
	npctalk "Himelmez: Mesmo? O que te faz pensar isso?", 'npc_himelmez$;
	end;
OnTimer30000:
	npctalk "Heinrich: Himelmez! Você já fez o que queria, então não há mais necessidade de sacrifício!", 'npc_heinrich$;
	end;
OnTimer33000:
	npctalk "Heinrich: Deixe ele ir! Não quero ver mais ninguém sofrer!", 'npc_heinrich$;
	end;
OnTimer36000:
	npctalk "Himelmez: Deixar ele ir? Eu acho que não...", 'npc_himelmez$;
	end;
OnTimer39000:
	npctalk "Himelmez: Além disso, este é o seu último soldado sobrevivente, Heinrich.", 'npc_himelmez$;
	end;
OnTimer42000:
	npctalk "Himelmez: Ele tornou a vida difícil para mim.", 'npc_himelmez$;
	end;
OnTimer45000:
	npctalk "Himelmez: Ele é perfeitamente adequado para minha nova criação Amdarais.", 'npc_himelmez$;
	end;
OnTimer48000:
	npctalk "Heinrich: Eu nunca vou te perdoar.", 'npc_heinrich$;
	end;
OnTimer51000:
	npctalk "Himelmez: Uh uh ~ Estou com tanto medo.", 'npc_himelmez$;
	end;
OnTimer54000:
	npctalk "Himelmez: De qualquer forma, teremos uma chance de ver porque precisamos conversar mais.", 'npc_himelmez$;
	end;
OnTimer57000:
	npctalk "Himelmez: Até mais garotos.", 'npc_himelmez$;
	end;
OnTimer60000:
	specialeffect EF_BARRIER, AREA, 'npc_gerhalt$;
	end;
OnTimer63000:
	disablenpc 'npc_himelmez$;
	end;
OnTimer65000:
	npctalk "Gerhalt: Você pode levar meu corpo, mas não pode levar minha alma, Himelmez!", 'npc_gerhalt$;
	end;
OnTimer66000:
	specialeffect EF_CHAINCOMBO, AREA, 'npc_gerhalt$;
	end;
OnTimer67000:
	npctalk "Heinrich: Eu nunca vou deixar você escapar, Himelmez !!", 'npc_heinrich$;
	specialeffect EF_MAPPILLAR, AREA, 'npc_gerhalt$;
	end;
OnTimer70000:
	specialeffect EF_MAPPILLAR2, AREA, 'npc_gerhalt$;
	specialeffect EF_MAPPILLAR, AREA, 'npc_gerhalt$;
	disablenpc 'npc_heinrich$;
	npctalk "Varmundt: Nós não temos escolha. Temos que lutar contra o Amdarais!", 'npc_varmundt$;
	end;
OnTimer73000:
	mapannounce 'map_name$[1], "O corpo de Gerhalt está mudando.", bc_map,0xFFFFFF;
	end;
OnTimer76000:
	specialeffect EF_LORD, AREA, 'npc_gerhalt$;
	disablenpc 'npc_varmundt$;
	mapannounce 'map_name$[1], "Varmundt: Deixe-me ajudar nesta batalha com minha ilusão. Basta seguir as ordens da ilusão", bc_map,0xFFFF00;
	end;
OnTimer80000:
	disablenpc 'npc_gerhalt$;
	donpcevent instance_npcname("#ghmemorialmob07") + "::OnStart";
	stopnpctimer;
	'npc_himelmez$ = 'npc_gerhalt$ = 'npc_heinrich$ = 'npc_varmundt$ = "";
	end;
}

2@gl_k,158,252,4	script	Himelmez#23	4_F_HIMEL,{
	cutin "gl_himel2",2;
	mes "[Himelmez]";
	mes "Isso é incrível ~ você veio até aqui. Posso dizer obrigado?";
	close3;
}

2@gl_k,1,1,0	script	#ghmemorialmob07	HIDDEN_WARP_NPC,{
	end;
OnStart:
	enablenpc instance_npcname("#ghmemorialmob07");
	if('OGH_Mode == 1) // Normal Mode
		monster 'map_name$[1],158,255,"Amdarais",2476,1,instance_npcname("#ghmemorialmob07") + "::OnMyMobDead";// MG_AMDARAIS
	else if('OGH_Mode == 2) // Hard Mode
		monster 'map_name$[1],158,255,"Amdarais Sombrio",3150,1,instance_npcname("#ghmemorialmob07") + "::OnMyMobDead";// MG_AMDARAIS
	'boss_id = $@mobid[0];
	unittalk 'boss_id, "Fuja ... fuja de mim ...";
	initnpctimer;
	end;
OnTimer5000:
	unittalk 'boss_id, "Eu não quero ... Eu não quero matar ninguém. Uuuuuuh";
	end;
OnTimer10000:
	unittalk 'boss_id, "Por favor me mate! Por favor!";
	end;
OnTimer16000:
	unittalk 'boss_id, "Eeeeee ... eee ... morra ... morra ...";
	end;
OnTimer22000:
	unittalk 'boss_id, "Demolição ... Morte! ...";
	end;
OnTimer55000:
	donpcevent instance_npcname("#ghmemorialmob08") + "::OnStart";// Varmundt buffs and additionnal monsters
	stopnpctimer;
	end;

OnMyMobDead:
	if (mobcount('map_name$[1], instance_npcname("#ghmemorialmob07") + "::OnMyMobDead") < 1) {
		stopnpctimer;
		enablenpc instance_npcname("Hugin#21");
		enablenpc instance_npcname("#Secret Room Exit");

		stopnpctimer;
		disablenpc instance_npcname("#ghmemorialmob07");
		// note: monsters from #ghmemorialmob08 still alive on Amdarais's dead
	}
	end;
}

// Varmundt Buffs
2@gl_k,1,1,0	script	#ghmemorialmob08	HIDDEN_WARP_NPC,{
	end;
OnStart:
	enablenpc instance_npcname("#ghmemorialmob08");
	initnpctimer;
	end;
OnTimer5000:
	if (unitexists('boss_id) == 0) {
		disablenpc instance_npcname("#ghmemorialmob08");
		stopnpctimer;
		end;
	}
	getunitdata 'boss_id, .@data;
	.@percent_hp = (.@data[UMOB_HP] * 100) / .@data[UMOB_MAXHP];
	mapannounce 'map_name$[1], "Amdarais HP " + .@percent_hp + "% reach!", bc_map,0x70DBDB;

	// event type every 10%
	switch( .@percent_hp / 10 ) {
	case 10:
		break;
	case 9:
		donpcevent instance_npcname("Varmundt's Ghost#Buff2") + "::OnEvent";
		break;
	case 8:
		donpcevent instance_npcname("Varmundt's Ghost#Buff3") + "::OnEvent";
		if('OGH_Mode == 1) // Normal Mode
			areamonster 'map_name$[1],140,220,175,255,"Khalitzburg Amaldiçoada",2471,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		else if('OGH_Mode == 2) // Hard Mode
			areamonster 'map_name$[1],140,220,175,255,"Khalitzburg Sombria",3146,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		break;
	case 7:
		donpcevent instance_npcname("Varmundt's Ghost#Buff3") + "::OnEvent";
		if('OGH_Mode == 1) // Normal Mode
			areamonster 'map_name$[1],140,220,175,255,"Cavaleiro Amaldiçoada",2470,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		else if('OGH_Mode == 2) // Hard Mode
			areamonster 'map_name$[1],140,220,175,255,"Cavaleiro Sombrio Hard",3145,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		break;
	case 6:
		donpcevent instance_npcname("Varmundt's Ghost#Buff3") + "::OnEvent";
		if('OGH_Mode == 1) // Normal Mode
			areamonster 'map_name$[1],140,220,175,255,"Sanguinário Amaldiçoado",2472,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		else if('OGH_Mode == 2) // Hard Mode
			areamonster 'map_name$[1],140,220,175,255,"Sanguinário Sombrio",3147,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		break;
	case 5:
		donpcevent instance_npcname("Varmundt's Ghost#Buff2") + "::OnEvent";
		break;
	case 4:
		donpcevent instance_npcname("Varmundt's Ghost#Buff3") + "::OnEvent";
		if('OGH_Mode == 1) // Normal Mode
			areamonster 'map_name$[1],140,220,175,255,"Arqueiro Amaldiçoado",2469,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		else if('OGH_Mode == 2) // Hard Mode
			areamonster 'map_name$[1],140,220,175,255,"Arqueiro Sombrio",3144,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		break;
	case 3:
		donpcevent instance_npcname("Varmundt's Ghost#Buff1") + "::OnEvent";
		donpcevent instance_npcname("Varmundt's Ghost#Buff3") + "::OnEvent";
		if('OGH_Mode == 1) // Normal Mode
			areamonster 'map_name$[1],140,220,175,255,"Sanguinário Amaldiçoado",2472,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		else if('OGH_Mode == 2) // Hard Mode
			areamonster 'map_name$[1],140,220,175,255,"Sanguinário Sombrio",3147,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		break;
	case 2:
		donpcevent instance_npcname("Varmundt's Ghost#Buff1") + "::OnEvent";
		donpcevent instance_npcname("Varmundt's Ghost#Buff3") + "::OnEvent";
		if('OGH_Mode == 1) // Normal Mode
			areamonster 'map_name$[1],140,220,175,255,"Cavaleiro Amaldiçoado",2470,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		else if('OGH_Mode == 2) // Hard Mode
			areamonster 'map_name$[1],140,220,175,255,"Cavaleiro Sombrio",3145,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		break;
	case 1:
	case 0:
		donpcevent instance_npcname("Varmundt's Ghost#Buff1") + "::OnEvent";
		donpcevent instance_npcname("Varmundt's Ghost#Buff4") + "::OnEvent";
		if('OGH_Mode == 1) // Normal Mode
			areamonster 'map_name$[1],140,220,175,255,"Arqueiro Amaldiçoado",2469,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		else if('OGH_Mode == 2) // Hard Mode
			areamonster 'map_name$[1],140,220,175,255,"Arqueiro Sombrio",3144,6, instance_npcname("#ghmemorialmob08") + "::OnMobDead";
		break;
	}
	end;
OnTimer30000:
	killmonster 'map_name$[1], instance_npcname("#ghmemorialmob08") + "::OnMobDead";
	initnpctimer;
	end;
OnMobDead:
	end;
}

2@gl_k,150,247,5	script	Varmundt's Ghost#Buff1	4_M_BARMUND,2,2,{
	end;
OnTouch:
	specialeffect2 EF_ENHANCE;
	// buff
	// .@num = atoi( replacestr(strnpcinfo(2), "Buff", "") );
	// if (.@num == 1)
	// else if (.@num == 2)
	// else if (.@num == 3)
	// else
	end;
OnEvent:
	initnpctimer;
	enablenpc instance_npcname( strnpcinfo(0) );
	.@num = atoi( replacestr(strnpcinfo(2), "Buff", "") );
	if (.@num == 1)
		npctalk "Varmundt's Ghost: Amdarais pode usar um escudo mágico forte! Fique perto de mim e eu te protegerei!";
	else if (.@num == 2)
		npctalk "Varmundt's Ghost: Agora é uma chance de atacar! Aproxime-se de mim e ataque!";
	else if (.@num == 3)
		npctalk "Varmundt's Ghost: Se você não quer ser atacado pelo zumbi de Amdarais, venha até mim e consiga mais poder!";
	else
		npctalk "Varmundt's Ghost: Se você não quer ser atacado pelo poder de Amdarais, venha até mim e consiga mais poder! ";
	end;
OnTimer10000:
	stopnpctimer;
	disablenpc instance_npcname( strnpcinfo(0) );
	end;
}
2@gl_k,165,247,3	duplicate(Varmundt's Ghost#Buff1)	Varmundt's Ghost#Buff2	4_M_BARMUND,2,2
2@gl_k,150,232,8	duplicate(Varmundt's Ghost#Buff1)	Varmundt's Ghost#Buff3	4_M_BARMUND,2,2
2@gl_k,165,232,2	duplicate(Varmundt's Ghost#Buff1)	Varmundt's Ghost#Buff4	4_M_BARMUND,2,2


2@gl_k,158,241,1	script	Hugin#21	4_M_SAGE_C,{
	
	if('OGH_Mode == 1) { // Normal Mode
		if (checkquest(12319,HUNTING) == 2) {// note: complete hunting 'Corrompido Soul Hunt' prerequis
			mes "[Hugin]";
			mes "Hm, você está muito bem. Em primeiro lugar, deixe-me dar-lhe alguns itens de Amdarais.";
			erasequest 12319;
			setquest 12322;// Space Distortion
			if (isbegin_quest(12321) == 0) {
				setquest 12321;// Time Conqueror
				completequest 12321;
				getitem 6607,5;// Temporal_Crystal
				getitem 6608,5;// Coagulated_Spell
				getexp 350000,350000;
			}
			else {
				getitem 6607,1;// Temporal_Crystal
				getitem 6608,1;// Coagulated_Spell
			}
			next;
			mes "[Hugin]";
			mes "O tempo de Varmundt é interrompido por mim.";
			mes "E seu tempo será distorcido em breve.";
			specialeffect2 EF_BLIND;
			soundeffect "_blind.wav",0;
			next;
			mes "[Hugin]";
			mes "Talvez este pobre viajante do tempo tente impedir que a tragédia de Glast Heim aconteça.";
			next;
			mes "[Hugin]";
			mes "No entanto, nunca iremos ignorar a atitude que teve agora e para sempre ...";
			next;
			mes "[Hugin]";
			mes "Agora, deixe-me remover sua memória. Se você me ver novamente, será alguém novo.";
			specialeffect2 EF_FREEZE;
			close2;
			warp 'map_name$[1],158,244;
			end;
		}
	} else if('OGH_Mode == 2) { // Hard Mode
		if (checkquest(12337,HUNTING) == 2) {// note: complete hunting 'Corrompido Soul Hunt' prerequis
			mes "[Hugin]";
			mes "Hm, você está muito bem. Em primeiro lugar, deixe-me dar-lhe alguns itens de Amdarais.";
			erasequest 12337;
			setquest 12335;// Space Distortion
			if (isbegin_quest(12339) == 0) {
				setquest 12339;// Time Conqueror
				completequest 12339;
				getitem 6607,5;// Temporal_Crystal
				getitem 6755,5;// Contaminated_Magic
				getexp 350000,350000;
			}
			else {
				getitem 6607,1;// Temporal_Crystal
				getitem 6755,1;// Contaminated_Magic
			}
			next;
			mes "[Hugin]";
			mes "O tempo de Varmundt é interrompido por mim.";
			mes "E seu tempo será distorcido em breve.";
			specialeffect2 EF_BLIND;
			soundeffect "_blind.wav",0;
			next;
			mes "[Hugin]";
			mes "Talvez este pobre viajante do tempo tente impedir que a tragédia de Glast Heim aconteça.";
			next;
			mes "[Hugin]";
			mes "No entanto, nunca iremos ignorar a atitude que teve agora e para sempre ...";
			next;
			mes "[Hugin]";
			mes "Agora, deixe-me remover sua memória. Se você me ver novamente, será alguém novo.";
			specialeffect2 EF_FREEZE;
			close2;
			warp 'map_name$[1],158,244;
			end;
		}
	}
	mes "[Hugin]";
	mes "Opa. Quase distorci o intervalo de tempo. Venha aqui. Precisamos sair!";
	next;
	select("Você só estava comigo ...");
	mes "[Hugin]";
	mes "o que você disse antes?";
	mes "De qualquer forma, isso não é importante. o Intervalo de tempo será fechada, então precisamos sair daqui.";
	next;
	if (select("Deixe-me olhar mais ao redor:Por favor, deixe-me sair") == 1) {
		mes "[Hugin]";
		mes "sério? Este lugar será destruído em breve. Por favor, olhe em volta rapidamente.";
		close;
	}
	close2;
	if('OGH_Mode == 1 && !OGH_Norm) // Completing Normal Mode grants access to Hard Mode
		set OGH_Norm,1; 
	warp "glast_01",204,270;
	end;
}

// Treasure Room
//============================================================
1@gl_k,165,136,3	script	Strange crack#2	CLEAR_NPC,{
	if ('OGH_Mode == 1 && isbegin_quest(12322) == 0 || 'OGH_Mode == 2 && isbegin_quest(12335) == 0) {// Space Distortion
		mes "A rachadura parece suspeita, mas nada mais para verificar.";
		close;
	}
	specialeffect EF_SPELLBREAKER;

	.@random = rand(1,4);
	switch( atoi(strnpcinfo(2)) ) {
	case 2:
		for ( .@i = 1; .@i <= .@random; ++.@i )
			makeitem 719,1,"this",165,138;
		makeitem 6608,1,"this",165,138;
		break;
	case 3:
		for ( .@i = 1; .@i <= .@random; ++.@i )
			makeitem 720,1,"this",159,138;
		if (rand(1,4) == 4)
			makeitem2 15066,1,"this",159,138,0,0,0,0,0,0,0;
		makeitem 6608,1,"this",159,138;
		makeitem 7229,1,"this",159,138;
		break;
	case 4:
		for ( .@i = 1; .@i <= .@random; ++.@i )
			makeitem 721,1,"this",153,138;
		if (rand(1,4) == 4)
			makeitem2 13086,1,"this",153,138,0,0,0,0,0,0,0;
		makeitem 6608,1,"this",153,138;
		makeitem 7230,1,"this",153,138;
		break;
	case 5:
		for ( .@i = 1; .@i <= .@random; ++.@i )
			makeitem 722,1,"this",147,138;
		if (rand(1,4) == 4)
			makeitem2 2949,1,"this",147,138,0,0,0,0,0,0,0;
		makeitem 6612,1,"this",147,138;
		makeitem 6613,1,"this",147,138;
		makeitem 6608,1,"this",147,138;
		break;
	case 6:
		for ( .@i = 1; .@i <= .@random; ++.@i )
			makeitem 725,1,"this",141,138;
		makeitem 7228,1,"this",141,138;
		if (rand(1,4) == 4)
			makeitem2 13440,1,"this",141,138,0,0,0,0,0,0,0;
		makeitem 6608,1,"this",141,138;
		break;
	case 7:
		for ( .@i = 1; .@i <= .@random; ++.@i )
			makeitem 726,1,"this",135,138;
		if (rand(1,4) == 4)
			makeitem2 2022,1,"this",135,138,0,0,0,0,0,0,0;
		makeitem 6608,1,"this",135,138;
		break;
	case 8:
		for ( .@i = 1; .@i <= .@random; ++.@i )
			makeitem 727,1,"this",129,138;
		if (rand(1,4) == 4)
			makeitem2 21007,1,"this",129,138,0,0,0,0,0,0,0;
		makeitem 6608,1,"this",129,138;
		break;
	}
	disablenpc instance_npcname( strnpcinfo(0) );
	end;
}
1@gl_k,159,136,3	duplicate(Strange crack#2)	Strange crack#3	CLEAR_NPC
1@gl_k,153,136,3	duplicate(Strange crack#2)	Strange crack#4	CLEAR_NPC
1@gl_k,147,136,3	duplicate(Strange crack#2)	Strange crack#5	CLEAR_NPC
1@gl_k,141,136,3	duplicate(Strange crack#2)	Strange crack#6	CLEAR_NPC
1@gl_k,135,136,3	duplicate(Strange crack#2)	Strange crack#7	CLEAR_NPC
1@gl_k,129,136,3	duplicate(Strange crack#2)	Strange crack#8	CLEAR_NPC

1@gl_k,269,267,3	script	Strange crack#1	CLEAR_NPC,{
	if ('OGH_Mode == 1 && isbegin_quest(12322) == 0 || 'OGH_Mode == 2 && isbegin_quest(12335) == 0) {// Space Distortion
		mes "A rachadura parece suspeita, mas nada mais para verificar.";
		close;
	}
	warp 'map_name$[0],149,198;
	end;

OnInstanceInit:
	'map_name$[0] = instance_mapname("1@gl_k");
	'map_name$[1] = instance_mapname("2@gl_k");

	// Entrance
	disablenpc instance_npcname("Himelmez#1");
	disablenpc instance_npcname("Varmundt#1");
	disablenpc instance_npcname("Heinrich#1");
	disablenpc instance_npcname("Heinrich#2");
	disablenpc instance_npcname("Heinrich#3");

	// Rescue 1
	disablenpc instance_npcname("#ghmemorialmob01");
	disablenpc instance_npcname("Altar boy Domun#1");

	// Rescue 2
	disablenpc instance_npcname("#ghmemorialmob02");
	disablenpc instance_npcname("Holgren the Destroyer#1");
	for ( .@i = 1; .@i <= 26; .@i++ )
		disablenpc instance_npcname("A dead man#" + .@i);

	// Sector 3
	disablenpc instance_npcname("#ghmemorialmob03");

	// Root of Corruption
	disablenpc instance_npcname("Himelmez#2");
	disablenpc instance_npcname("Varmundt#2");
	disablenpc instance_npcname("Heinrich#4");
	disablenpc instance_npcname("#Mimelon");
	disablenpc instance_npcname("#ghmemorialmob04");

	// Entrance 2nd map
	disablenpc instance_npcname("Varmundt#21");
	disablenpc instance_npcname("Heinrich#21");
	disablenpc instance_npcname("#Servanton");
	hideonnpc instance_npcname("#Servanton_effect");

	// Commanders
	disablenpc instance_npcname("#ghmemorialmob05");
	disablenpc instance_npcname("#ghmemorialmob06");
	for ( .@i = 1; .@i <= 7; .@i++ ) {
		disablenpc instance_npcname("#ogh_2-" + .@i);
		disablenpc instance_npcname("#ogh_3-" + .@i);
	}

	// Amdarais Room Entrance
	disablenpc instance_npcname("#Geron");
	for ( .@i = 1; .@i <= 35; .@i++ )
		disablenpc instance_npcname("Decomposed body#" + .@i);

	// Amdarais Spawn
	disablenpc instance_npcname("Gerhalt#23");
	disablenpc instance_npcname("Himelmez#22");
	disablenpc instance_npcname("Himelmez#23");
	disablenpc instance_npcname("Varmundt#23");
	disablenpc instance_npcname("Heinrich#23");
	disablenpc instance_npcname("#ghmemorialmob07");

	// Varmundt Buffs
	disablenpc instance_npcname("#ghmemorialmob08");
	disablenpc instance_npcname("Varmundt's Ghost#Buff1");
	disablenpc instance_npcname("Varmundt's Ghost#Buff2");
	disablenpc instance_npcname("Varmundt's Ghost#Buff3");
	disablenpc instance_npcname("Varmundt's Ghost#Buff4");
	disablenpc instance_npcname("Hugin#21");

	// Warps
	disablenpc instance_npcname("#2Control");
	disablenpc instance_npcname("#2Control2");
	disablenpc instance_npcname("#3Control");
	disablenpc instance_npcname("#3Control2");
	disablenpc instance_npcname("#4Control");
	disablenpc instance_npcname("#4Control2");
	disablenpc instance_npcname("#2F Entrance");
	disablenpc instance_npcname("#1 Control");
	disablenpc instance_npcname("#22 Control");
	disablenpc instance_npcname("#22 Control2");
	disablenpc instance_npcname("#23 Control");
	disablenpc instance_npcname("#23 Control2");
	disablenpc instance_npcname("#24 Control");
	disablenpc instance_npcname("#24 Control2");
	disablenpc instance_npcname("#Secret Room Exit");
	end;
}